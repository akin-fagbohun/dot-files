"use strict";var ys=Object.create;var rt=Object.defineProperty;var bs=Object.getOwnPropertyDescriptor;var ws=Object.getOwnPropertyNames;var Fs=Object.getPrototypeOf,Cs=Object.prototype.hasOwnProperty;var f=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),_s=(e,t)=>{for(var r in t)rt(e,r,{get:t[r],enumerable:!0})},Qr=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of ws(t))!Cs.call(e,n)&&n!==r&&rt(e,n,{get:()=>t[n],enumerable:!(i=bs(t,n))||i.enumerable});return e};var ei=(e,t,r)=>(r=e!=null?ys(Fs(e)):{},Qr(t||!e||!e.__esModule?rt(r,"default",{value:e,enumerable:!0}):r,e)),xs=e=>Qr(rt({},"__esModule",{value:!0}),e);var li=f(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.createStream=Z.RotatingFileStream=Z.RotatingFileStreamError=void 0;var Rs=require("child_process"),Bs=require("zlib"),As=require("stream"),nt=require("fs"),k=require("fs/promises"),ut=require("path"),ks=require("util");async function ni(e){return new Promise(t=>(0,nt.access)(e,nt.constants.F_OK,r=>t(!r)))}var Ie=class extends Error{constructor(){super("Too many destination file attempts"),this.code="RFS-TOO-MANY"}};Z.RotatingFileStreamError=Ie;var st=class extends As.Writable{constructor(t,r){let{encoding:i,history:n,maxFiles:u,maxSize:s,path:o}=r;super({decodeStrings:!0,defaultEncoding:i}),this.createGzip=Bs.createGzip,this.exec=Rs.exec,this.filename=o+t(null),this.fsCreateReadStream=nt.createReadStream,this.fsCreateWriteStream=nt.createWriteStream,this.fsOpen=k.open,this.fsReadFile=k.readFile,this.fsStat=k.stat,this.fsUnlink=k.unlink,this.generator=t,this.maxTimeout=2147483640,this.options=r,this.stdout=process.stdout,(u||s)&&(r.history=o+(n||this.generator(null)+".txt")),this.on("close",()=>this.finished?null:this.emit("finish")),this.on("finish",()=>this.finished=this.clear()),(async()=>{try{this.initPromise=this.init(),await this.initPromise,delete this.initPromise}catch{}})()}_destroy(t,r){this.refinal(t,r)}_final(t){this.refinal(void 0,t)}_write(t,r,i){this.rewrite([{chunk:t,encoding:r}],0,i)}_writev(t,r){this.rewrite(t,0,r)}async refinal(t,r){try{this.clear(),this.initPromise&&await this.initPromise,this.timeoutPromise&&await this.timeoutPromise,await this.reclose()}catch(i){return r(t||i)}r(t)}async rewrite(t,r,i){let{size:n,teeToStdout:u}=this.options;try{this.initPromise&&await this.initPromise,this.timeoutPromise&&await this.timeoutPromise;for(let s=0;s<t.length;++s){let{chunk:o}=t[s];this.size+=o.length,await this.file.write(o),u&&!this.stdout.destroyed&&this.stdout.write(o),n&&this.size>=n&&await this.rotate()}}catch(s){return i(s)}i()}async init(){let{immutable:t,initialRotation:r,interval:i,size:n}=this.options;if(t)return new Promise((s,o)=>process.nextTick(()=>this.immutate(!0).then(s).catch(o)));let u;try{u=await(0,k.stat)(this.filename)}catch(s){if(s.code!=="ENOENT")throw s;return this.reopen(0)}if(!u.isFile())throw new Error(`Can't write on: ${this.filename} (it is not a file)`);if(r){this.intervalBounds(this.now());let s=this.prev;if(this.intervalBounds(new Date(u.mtime.getTime())),s!==this.prev)return this.rotate()}return this.size=u.size,!n||u.size<n?this.reopen(u.size):(i&&this.intervalBounds(this.now()),this.rotate())}async makePath(t){return(0,k.mkdir)(t.split(ut.sep).slice(0,-1).join(ut.sep),{recursive:!0})}async reopen(t){let r;try{r=await(0,k.open)(this.filename,"a",this.options.mode)}catch(i){if(i.code!=="ENOENT")throw i;await this.makePath(this.filename),r=await(0,k.open)(this.filename,"a",this.options.mode)}this.file=r,this.size=t,this.interval(),this.emit("open",this.filename)}async reclose(){let{file:t}=this;if(!!t)return delete this.file,t.close()}now(){return new Date}async rotate(){let{immutable:t,rotate:r}=this.options;return this.size=0,this.rotation=this.now(),this.clear(),this.emit("rotation"),await this.reclose(),r?this.classical():t?this.immutate(!1):this.move()}async findName(){let{interval:t,path:r,intervalBoundary:i}=this.options;for(let n=1;n<1e3;++n){let u=r+this.generator(t&&i?new Date(this.prev):this.rotation,n);if(!await ni(u))return u}throw new Ie}async move(){let{compress:t}=this.options,r=await this.findName();return await this.touch(r),t?await this.compress(r):await(0,k.rename)(this.filename,r),this.rotated(r)}async touch(t){let r;try{r=await this.fsOpen(t,"a")}catch(i){if(i.code!=="ENOENT")throw i;await this.makePath(t),r=await(0,k.open)(t,"a")}return await r.close(),this.unlink(t)}async classical(){let{compress:t,path:r,rotate:i}=this.options,n="";for(let u=i;u>0;--u){let s=r+this.generator(u),o=u===1?this.filename:r+this.generator(u-1);if(!!await ni(o))if(n||(n=s),u===1&&t)await this.compress(s);else try{await(0,k.rename)(o,s)}catch(a){try{a.code==="ENOENT"&&(await this.makePath(s),await(0,k.rename)(o,s))}catch{}}}return this.rotated(n)}clear(){return this.timeout&&(clearTimeout(this.timeout),this.timeout=null),!0}intervalBoundsBig(t){let r=t.getFullYear(),i=t.getMonth(),n=t.getDate(),u=t.getHours(),{num:s,unit:o}=this.options.interval;o==="M"?(n=1,u=0):o==="d"?u=0:u=parseInt(u/s,10)*s,this.prev=new Date(r,i,n,u,0,0,0).getTime(),o==="M"?i+=s:o==="d"?n+=s:u+=s,this.next=new Date(r,i,n,u,0,0,0).getTime()}intervalBounds(t){let r=this.options.interval.unit;if(r==="M"||r==="d"||r==="h")this.intervalBoundsBig(t);else{let i=1e3*this.options.interval.num;r==="m"&&(i*=60),this.prev=parseInt(t.getTime()/i,10)*i,this.next=this.prev+i}return new Date(this.prev)}interval(){if(!this.options.interval)return;this.intervalBounds(this.now());let t=async()=>{let r=this.next-this.now().getTime();if(r<=0)try{this.timeoutPromise=this.rotate(),await this.timeoutPromise,delete this.timeoutPromise}catch{}else this.timeout=setTimeout(t,r>this.maxTimeout?this.maxTimeout:r),this.timeout.unref()};t()}async compress(t){let{compress:r}=this.options;return typeof r=="function"?await new Promise((i,n)=>{this.exec(r(this.filename,t),(u,s,o)=>{this.emit("external",s,o),u?n(u):i()})}):await this.gzip(t),this.unlink(this.filename)}async gzip(t){let{mode:r}=this.options,i=r?{mode:r}:{},n=this.fsCreateReadStream(this.filename,{}),u=this.fsCreateWriteStream(t,i),s=this.createGzip();return new Promise((o,a)=>{[n,u,s].map(c=>c.once("error",a)),u.once("finish",o),n.pipe(s).pipe(u)})}async rotated(t){let{maxFiles:r,maxSize:i}=this.options;return(r||i)&&await this.history(t),this.emit("rotated",t),this.reopen(0)}async history(t){let{history:r,maxFiles:i,maxSize:n}=this.options,u=[],s=[t];try{s=[...(await this.fsReadFile(r,"utf8")).toString().split(`
`),t]}catch(o){if(o.code!=="ENOENT")throw o}for(let o of s)if(o)try{let a=await this.fsStat(o);a.isFile()?u.push({name:o,size:a.size,time:a.ctime.getTime()}):this.emit("warning",new Error(`File '${o}' contained in history is not a regular file`))}catch(a){if(a.code!=="ENOENT")throw a}if(u.sort((o,a)=>o.time-a.time),i)for(;u.length>i;){let o=u.shift();await this.unlink(o.name),this.emit("removed",o.name,!0)}if(n)for(;u.reduce((o,a)=>o+a.size,0)>n;){let o=u.shift();await this.unlink(o.name),this.emit("removed",o.name,!1)}await(0,k.writeFile)(r,u.map(o=>o.name).join(`
`)+`
`,"utf-8"),this.emit("history")}async immutate(t){let{size:r}=this.options,i=this.now();for(let n=1;n<1e3;++n){let u=0,s;this.filename=this.options.path+this.generator(i,n);try{s=await this.fsStat(this.filename)}catch(o){if(o.code!=="ENOENT")throw o}if(s){if(u=s.size,!s.isFile())throw new Error(`Can't write on: '${this.filename}' (it is not a file)`);if(r&&u>=r)continue}if(t)return this.last=this.filename,this.reopen(u);await this.rotated(this.last),this.last=this.filename;return}throw new Ie}async unlink(t){try{await this.fsUnlink(t)}catch(r){if(r.code!=="ENOENT")throw r;this.emit("warning",r)}}};Z.RotatingFileStream=st;function ui(e){return(t,r,i)=>{let n=parseInt(i,10);if(t!=="number"||n!==i||n<=0)throw new Error(`'${e}' option must be a positive integer number`)}}function Yt(e,t){return(r,i,n)=>{if(r!=="string")throw new Error(`Don't know how to handle 'options.${e}' type: ${r}`);i[e]=t(n)}}function ai(e,t,r){let i={};if(i.num=parseInt(e,10),isNaN(i.num))throw new Error(`Unknown 'options.${t}' format: ${e}`);if(i.num<=0)throw new Error(`A positive integer number is expected for 'options.${t}'`);if(i.unit=e.replace(/^[ 0]*/g,"").substr((i.num+"").length,1),i.unit.length===0)throw new Error(`Missing unit for 'options.${t}'`);if(!r[i.unit])throw new Error(`Unknown 'options.${t}' unit: ${i.unit}`);return i}var Ps={M:!0,d:!0,h:!0,m:!0,s:!0};function Kt(e,t,r){if(parseInt(r/e.num,10)*e.num!==r)throw new Error(`An integer divider of ${r} is expected as ${t} for 'options.interval'`)}function Os(e){let t=ai(e,"interval",Ps);switch(t.unit){case"h":Kt(t,"hours",24);break;case"m":Kt(t,"minutes",60);break;case"s":Kt(t,"seconds",60);break}return t}var Ls={B:!0,G:!0,K:!0,M:!0};function si(e){let t=ai(e,"size",Ls);return t.unit==="K"?t.num*1024:t.unit==="M"?t.num*1048576:t.unit==="G"?t.num*1073741824:t.num}var oi={encoding:(e,t,r)=>new ks.TextDecoder(r),immutable:()=>{},initialRotation:()=>{},interval:Yt("interval",Os),intervalBoundary:()=>{},maxFiles:ui("maxFiles"),maxSize:Yt("maxSize",si),mode:()=>{},omitExtension:()=>{},rotate:ui("rotate"),size:Yt("size",si),teeToStdout:()=>{},compress:(e,t,r)=>{if(!r)throw new Error("A value for 'options.compress' must be specified");if(e==="boolean")return t.compress=(i,n)=>`cat ${i} | gzip -c9 > ${n}`;if(e!=="function"){if(e!=="string")throw new Error(`Don't know how to handle 'options.compress' type: ${e}`);if(r!=="gzip")throw new Error(`Don't know how to handle compression method: ${r}`)}},history:e=>{if(e!=="string")throw new Error(`Don't know how to handle 'options.history' type: ${e}`)},path:(e,t,r)=>{if(e!=="string")throw new Error(`Don't know how to handle 'options.path' type: ${e}`);r[r.length-1]!==ut.sep&&(t.path=r+ut.sep)}};function Ms(e){let t={};for(let r in e){let i=e[r],n=typeof i;if(!(r in oi))throw new Error(`Unknown option: ${r}`);t[r]=e[r],oi[r](n,t,i)}return t.path||(t.path=""),t.interval||(delete t.immutable,delete t.initialRotation,delete t.intervalBoundary),t.rotate&&(delete t.history,delete t.immutable,delete t.maxFiles,delete t.maxSize,delete t.intervalBoundary),t.immutable&&delete t.compress,t.intervalBoundary||delete t.initialRotation,t}function Ns(e,t,r){return i=>i?`${e}.${i}${t&&!r?".gz":""}`:e}function qs(e,t,r){let i=n=>(n>9?"":"0")+n;return(n,u)=>{if(!n)return e;let s=n.getFullYear()+""+i(n.getMonth()+1),o=i(n.getDate()),a=i(n.getHours()),c=i(n.getMinutes());return s+o+"-"+a+c+"-"+i(u)+"-"+e+(t&&!r?".gz":"")}}function Is(e,t){if(typeof t>"u")t={};else if(typeof t!="object")throw new Error(`The "options" argument must be of type object. Received type ${typeof t}`);let r=Ms(t),{compress:i,omitExtension:n}=r,u;if(typeof e=="string")u=t.rotate?Ns(e,i!==void 0,n):qs(e,i!==void 0,n);else if(typeof e=="function")u=e;else throw new Error(`The "filename" argument must be one of type string or function. Received type ${typeof e}`);return new st(u,r)}Z.createStream=Is});var hi=f((_f,fi)=>{var js=/(b|k|m|g)b?$/i,Us={b:1,k:1024,m:1048576,g:1073741824};fi.exports=function(t){var r;if(typeof t=="number")return t;if(typeof t=="string"){var i=parseFloat(t);if(isNaN(i)===!1){var n=(t.match(js)||[])[1];r=n?Us[n.toLowerCase()]*i:i}}return r}});var Di=f((xf,ci)=>{var oe=require("fs"),Ws=require("zlib"),je=require("path");function $s(e,t){(function r(i){if(i)return t(i);var n=e.shift();n?n(r):t(null)})()}function zs(e,t){oe.createReadStream(e).pipe(Ws.createGzip()).pipe(oe.createWriteStream(e+".gz")).on("finish",function(){oe.unlink(e,function(r){t(r,e+".gz")})})}ci.exports=function(e,t,r){typeof r>"u"&&(r=t,t={});var i=je.dirname(e),n=je.basename(e),u=t.count?t.count-1:null,s=t.matcher||new RegExp(n+"\\.\\d+\\.?");function o(c){return function(d){oe.unlink(je.join(i,"/",c),d)}}function a(c,d){return function(g){oe.rename(je.join(i,"/",c),je.join(i,"/",d),g)}}oe.readdir(i,function(c,d){if(c)return r(c);var g=[],l,m,B;for(m=0,B=d.length;m<B;m++)s.test(d[m])===!0&&g.push(d[m].split("."));g.sort(function(F,M){var Le=t.compress?2:1;return+M[M.length-Le]>+F[F.length-Le]?1:-1}),l=g.map(function(F,M){var Le=F.join(".");if(u!==null&&g.length>=u&&M<=g.length-u)return o(Le);for(var Me=F.length;Me>=0;Me--)if(isNaN(F[Me])===!1){F[Me]=+F[Me]+1;break}return a(Le,F.join("."))});var v=e+".0";$s(l,function(F){oe.rename(e,v,function(M){t.compress===!0?zs(v,r):r(null,v)})})})}});var vi=f((Tf,mi)=>{var di=require("fs"),pi=hi(),Gs=require("util"),Hs=Di(),gi=require("stream").Writable;mi.exports=ae;Gs.inherits(ae,gi);function ae(e){if(!(this instanceof ae))return new ae(e);gi.call(this,e),typeof e.objectMode<"u"&&(this._writableState.objectMode=!!e.objectMode),this.last="",this.file=e.file,this.size=pi(e.size)||pi("50m"),this.rotateOptions={count:e.keep||3,compress:e.compress||!1},this._createWriteStream(),this.on("finish",function(){this.writer&&this.writer.end(this.last||null)})}ae.prototype._createWriteStream=function(){var e=this;this.writer=di.createWriteStream(this.file,{flags:"a+"}),this.writer.on("error",function(t){e.emit("error",t)}),this.writer.once("open",function(){di.stat(e.file,function(t,r){if(t)return e.emit("error",t);e.writer.size=r.size,e.emit("ready",e.writer)})})};ae.prototype._write=function(e,t,r){var i=this,n=(this.last+e).split(`
`);this.last=n.pop();function u(){if(n.length===0)return r();var s=n.shift()+`
`;i.writer.size+s.length>i.size?(i._rotate(),i.once("ready",function(){i.writer.size+=s.length,i.writer.write(s,u)})):(i.writer.size+=s.length,i.writer.write(s,u))}typeof this.writer.size>"u"?this.once("ready",u):u()};ae.prototype._rotate=function(){var e=this;this.writer.end(),Hs(this.file,this.rotateOptions,function(t,r){if(t)return e.emit("error",t);e.emit("rotated",r),e._createWriteStream()})}});var Zt=f((Sf,yi)=>{"use strict";var Ei=require("events").EventEmitter,Vs=require("util"),Ys=0,Ks=yi.exports=function(e){Ei.call(this),this.id=++Ys,this.name=e};Vs.inherits(Ks,Ei)});var ot=f((Rf,wi)=>{"use strict";var Zs=require("util"),bi=Zt(),Ue=wi.exports=function(e,t){bi.call(this,e),this.workDone=0,this.workTodo=t||0};Zs.inherits(Ue,bi);Ue.prototype.completed=function(){return this.workTodo===0?0:this.workDone/this.workTodo};Ue.prototype.addWork=function(e){this.workTodo+=e,this.emit("change",this.name,this.completed(),this)};Ue.prototype.completeWork=function(e){this.workDone+=e,this.workDone>this.workTodo&&(this.workDone=this.workTodo),this.emit("change",this.name,this.completed(),this)};Ue.prototype.finish=function(){this.workTodo=this.workDone=1,this.emit("change",this.name,1,this)}});var Jt=f((Bf,Fi)=>{Fi.exports=require("stream")});var Ti=f((Af,xi)=>{"use strict";function Ci(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ci(Object(r),!0).forEach(function(i){Xs(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ci(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Xs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function eo(e,t,r){return t&&_i(e.prototype,t),r&&_i(e,r),e}var to=require("buffer"),at=to.Buffer,ro=require("util"),Xt=ro.inspect,io=Xt&&Xt.custom||"inspect";function no(e,t,r){at.prototype.copy.call(e,t,r)}xi.exports=function(){function e(){Qs(this,e),this.head=null,this.tail=null,this.length=0}return eo(e,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return at.alloc(0);for(var i=at.allocUnsafe(r>>>0),n=this.head,u=0;n;)no(n.data,i,u),u+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,u=i.data;for(r-=u.length;i=i.next;){var s=i.data,o=r>s.length?s.length:r;if(o===s.length?u+=s:u+=s.slice(0,r),r-=o,r===0){o===s.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(o));break}++n}return this.length-=n,u}},{key:"_getBuffer",value:function(r){var i=at.allocUnsafe(r),n=this.head,u=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var s=n.data,o=r>s.length?s.length:r;if(s.copy(i,i.length-r,0,o),r-=o,r===0){o===s.length?(++u,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(o));break}++u}return this.length-=u,i}},{key:io,value:function(r,i){return Xt(this,Js({},i,{depth:0,customInspect:!1}))}}]),e}()});var er=f((kf,Ri)=>{"use strict";function uo(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Qt,this,e)):process.nextTick(Qt,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(u){!t&&u?r._writableState?r._writableState.errorEmitted?process.nextTick(lt,r):(r._writableState.errorEmitted=!0,process.nextTick(Si,r,u)):process.nextTick(Si,r,u):t?(process.nextTick(lt,r),t(u)):process.nextTick(lt,r)}),this)}function Si(e,t){Qt(e,t),lt(e)}function lt(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function so(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Qt(e,t){e.emit("error",t)}function oo(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}Ri.exports={destroy:uo,undestroy:so,errorOrDestroy:oo}});var J=f((Pf,ki)=>{"use strict";var Ai={};function N(e,t,r){r||(r=Error);function i(u,s,o){return typeof t=="string"?t:t(u,s,o)}class n extends r{constructor(s,o,a){super(i(s,o,a))}}n.prototype.name=r.name,n.prototype.code=e,Ai[e]=n}function Bi(e,t){if(Array.isArray(e)){let r=e.length;return e=e.map(i=>String(i)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:r===2?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}else return`of ${t} ${String(e)}`}function ao(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function lo(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function fo(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}N("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);N("ERR_INVALID_ARG_TYPE",function(e,t,r){let i;typeof t=="string"&&ao(t,"not ")?(i="must not be",t=t.replace(/^not /,"")):i="must be";let n;if(lo(e," argument"))n=`The ${e} ${i} ${Bi(t,"type")}`;else{let u=fo(e,".")?"property":"argument";n=`The "${e}" ${u} ${i} ${Bi(t,"type")}`}return n+=`. Received type ${typeof r}`,n},TypeError);N("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");N("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});N("ERR_STREAM_PREMATURE_CLOSE","Premature close");N("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});N("ERR_MULTIPLE_CALLBACK","Callback called multiple times");N("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");N("ERR_STREAM_WRITE_AFTER_END","write after end");N("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);N("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);N("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");ki.exports.codes=Ai});var tr=f((Of,Pi)=>{"use strict";var ho=J().codes.ERR_INVALID_OPT_VALUE;function co(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function Do(e,t,r,i){var n=co(t,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var u=i?r:"highWaterMark";throw new ho(u,n)}return Math.floor(n)}return e.objectMode?16:16*1024}Pi.exports={getHighWaterMark:Do}});var Oi=f((Lf,rr)=>{typeof Object.create=="function"?rr.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:rr.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}});var be=f((Mf,nr)=>{try{if(ir=require("util"),typeof ir.inherits!="function")throw"";nr.exports=ir.inherits}catch{nr.exports=Oi()}var ir});var Mi=f((Nf,Li)=>{Li.exports=require("util").deprecate});var or=f((qf,Wi)=>{"use strict";Wi.exports=b;function qi(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Uo(t,e)}}var we;b.WritableState=$e;var po={deprecate:Mi()},Ii=Jt(),ht=require("buffer").Buffer,go=global.Uint8Array||function(){};function mo(e){return ht.from(e)}function vo(e){return ht.isBuffer(e)||e instanceof go}var sr=er(),Eo=tr(),yo=Eo.getHighWaterMark,X=J().codes,bo=X.ERR_INVALID_ARG_TYPE,wo=X.ERR_METHOD_NOT_IMPLEMENTED,Fo=X.ERR_MULTIPLE_CALLBACK,Co=X.ERR_STREAM_CANNOT_PIPE,_o=X.ERR_STREAM_DESTROYED,xo=X.ERR_STREAM_NULL_VALUES,To=X.ERR_STREAM_WRITE_AFTER_END,So=X.ERR_UNKNOWN_ENCODING,Fe=sr.errorOrDestroy;be()(b,Ii);function Ro(){}function $e(e,t,r){we=we||le(),e=e||{},typeof r!="boolean"&&(r=t instanceof we),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=yo(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=e.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){Mo(t,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new qi(this)}$e.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty($e.prototype,"buffer",{get:po.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var ft;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ft=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(t){return ft.call(this,t)?!0:this!==b?!1:t&&t._writableState instanceof $e}})):ft=function(t){return t instanceof this};function b(e){we=we||le();var t=this instanceof we;if(!t&&!ft.call(b,this))return new b(e);this._writableState=new $e(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),Ii.call(this)}b.prototype.pipe=function(){Fe(this,new Co)};function Bo(e,t){var r=new To;Fe(e,r),process.nextTick(t,r)}function Ao(e,t,r,i){var n;return r===null?n=new xo:typeof r!="string"&&!t.objectMode&&(n=new bo("chunk",["string","Buffer"],r)),n?(Fe(e,n),process.nextTick(i,n),!1):!0}b.prototype.write=function(e,t,r){var i=this._writableState,n=!1,u=!i.objectMode&&vo(e);return u&&!ht.isBuffer(e)&&(e=mo(e)),typeof t=="function"&&(r=t,t=null),u?t="buffer":t||(t=i.defaultEncoding),typeof r!="function"&&(r=Ro),i.ending?Bo(this,r):(u||Ao(this,i,e,r))&&(i.pendingcb++,n=Po(this,i,u,e,t,r)),n};b.prototype.cork=function(){this._writableState.corked++};b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&ji(this,e))};b.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new So(t);return this._writableState.defaultEncoding=t,this};Object.defineProperty(b.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ko(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=ht.from(t,r)),t}Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Po(e,t,r,i,n,u){if(!r){var s=ko(t,i,n);i!==s&&(r=!0,n="buffer",i=s)}var o=t.objectMode?1:i.length;t.length+=o;var a=t.length<t.highWaterMark;if(a||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:u,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else ur(e,t,!1,o,i,n,u);return a}function ur(e,t,r,i,n,u,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new _o("write")):r?e._writev(n,t.onwrite):e._write(n,u,t.onwrite),t.sync=!1}function Oo(e,t,r,i,n){--t.pendingcb,r?(process.nextTick(n,i),process.nextTick(We,e,t),e._writableState.errorEmitted=!0,Fe(e,i)):(n(i),e._writableState.errorEmitted=!0,Fe(e,i),We(e,t))}function Lo(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function Mo(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new Fo;if(Lo(r),t)Oo(e,r,i,t,n);else{var u=Ui(r)||e.destroyed;!u&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&ji(e,r),i?process.nextTick(Ni,e,r,u,n):Ni(e,r,u,n)}}function Ni(e,t,r,i){r||No(e,t),t.pendingcb--,i(),We(e,t)}function No(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function ji(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,n=new Array(i),u=t.corkedRequestsFree;u.entry=r;for(var s=0,o=!0;r;)n[s]=r,r.isBuf||(o=!1),r=r.next,s+=1;n.allBuffers=o,ur(e,t,!0,t.length,n,"",u.finish),t.pendingcb++,t.lastBufferedRequest=null,u.next?(t.corkedRequestsFree=u.next,u.next=null):t.corkedRequestsFree=new qi(t),t.bufferedRequestCount=0}else{for(;r;){var a=r.chunk,c=r.encoding,d=r.callback,g=t.objectMode?1:a.length;if(ur(e,t,!1,g,a,c,d),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}b.prototype._write=function(e,t,r){r(new wo("_write()"))};b.prototype._writev=null;b.prototype.end=function(e,t,r){var i=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||jo(this,i,r),this};Object.defineProperty(b.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ui(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function qo(e,t){e._final(function(r){t.pendingcb--,r&&Fe(e,r),t.prefinished=!0,e.emit("prefinish"),We(e,t)})}function Io(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,process.nextTick(qo,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function We(e,t){var r=Ui(t);if(r&&(Io(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}function jo(e,t,r){t.ending=!0,We(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function Uo(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(r),i=i.next}t.corkedRequestsFree.next=e}Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){!this._writableState||(this._writableState.destroyed=t)}});b.prototype.destroy=sr.destroy;b.prototype._undestroy=sr.undestroy;b.prototype._destroy=function(e,t){t(e)}});var le=f((If,zi)=>{"use strict";var Wo=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};zi.exports=$;var $i=fr(),lr=or();be()($,$i);for(ar=Wo(lr.prototype),ct=0;ct<ar.length;ct++)Dt=ar[ct],$.prototype[Dt]||($.prototype[Dt]=lr.prototype[Dt]);var ar,Dt,ct;function $(e){if(!(this instanceof $))return new $(e);$i.call(this,e),lr.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",$o)))}Object.defineProperty($.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty($.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty($.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function $o(){this._writableState.ended||process.nextTick(zo,this)}function zo(e){e.end()}Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}})});var Vi=f((hr,Hi)=>{var dt=require("buffer"),z=dt.Buffer;function Gi(e,t){for(var r in e)t[r]=e[r]}z.from&&z.alloc&&z.allocUnsafe&&z.allocUnsafeSlow?Hi.exports=dt:(Gi(dt,hr),hr.Buffer=fe);function fe(e,t,r){return z(e,t,r)}fe.prototype=Object.create(z.prototype);Gi(z,fe);fe.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return z(e,t,r)};fe.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var i=z(e);return t!==void 0?typeof r=="string"?i.fill(t,r):i.fill(t):i.fill(0),i};fe.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return z(e)};fe.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return dt.SlowBuffer(e)}});var dr=f(Ki=>{"use strict";var Dr=Vi().Buffer,Yi=Dr.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Go(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Ho(e){var t=Go(e);if(typeof t!="string"&&(Dr.isEncoding===Yi||!Yi(e)))throw new Error("Unknown encoding: "+e);return t||e}Ki.StringDecoder=ze;function ze(e){this.encoding=Ho(e);var t;switch(this.encoding){case"utf16le":this.text=Xo,this.end=Qo,t=4;break;case"utf8":this.fillLast=Ko,t=4;break;case"base64":this.text=ea,this.end=ta,t=3;break;default:this.write=ra,this.end=ia;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Dr.allocUnsafe(t)}ze.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};ze.prototype.end=Jo;ze.prototype.text=Zo;ze.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function cr(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function Vo(e,t,r){var i=t.length-1;if(i<r)return 0;var n=cr(t[i]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--i<r||n===-2?0:(n=cr(t[i]),n>=0?(n>0&&(e.lastNeed=n-2),n):--i<r||n===-2?0:(n=cr(t[i]),n>=0?(n>0&&(n===2?n=0:e.lastNeed=n-3),n):0))}function Yo(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function Ko(e){var t=this.lastTotal-this.lastNeed,r=Yo(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function Zo(e,t){var r=Vo(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)}function Jo(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function Xo(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Qo(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function ea(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function ta(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function ra(e){return e.toString(this.encoding)}function ia(e){return e&&e.length?this.write(e):""}});var pt=f((Uf,Xi)=>{"use strict";var Zi=J().codes.ERR_STREAM_PREMATURE_CLOSE;function na(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(this,i)}}}function ua(){}function sa(e){return e.setHeader&&typeof e.abort=="function"}function Ji(e,t,r){if(typeof t=="function")return Ji(e,null,t);t||(t={}),r=na(r||ua);var i=t.readable||t.readable!==!1&&e.readable,n=t.writable||t.writable!==!1&&e.writable,u=function(){e.writable||o()},s=e._writableState&&e._writableState.finished,o=function(){n=!1,s=!0,i||r.call(e)},a=e._readableState&&e._readableState.endEmitted,c=function(){i=!1,a=!0,n||r.call(e)},d=function(B){r.call(e,B)},g=function(){var B;if(i&&!a)return(!e._readableState||!e._readableState.ended)&&(B=new Zi),r.call(e,B);if(n&&!s)return(!e._writableState||!e._writableState.ended)&&(B=new Zi),r.call(e,B)},l=function(){e.req.on("finish",o)};return sa(e)?(e.on("complete",o),e.on("abort",g),e.req?l():e.on("request",l)):n&&!e._writableState&&(e.on("end",u),e.on("close",u)),e.on("end",c),e.on("finish",o),t.error!==!1&&e.on("error",d),e.on("close",g),function(){e.removeListener("complete",o),e.removeListener("abort",g),e.removeListener("request",l),e.req&&e.req.removeListener("finish",o),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",o),e.removeListener("end",c),e.removeListener("error",d),e.removeListener("close",g)}}Xi.exports=Ji});var en=f((Wf,Qi)=>{"use strict";var gt;function Q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oa=pt(),ee=Symbol("lastResolve"),he=Symbol("lastReject"),Ge=Symbol("error"),mt=Symbol("ended"),ce=Symbol("lastPromise"),pr=Symbol("handlePromise"),De=Symbol("stream");function te(e,t){return{value:e,done:t}}function aa(e){var t=e[ee];if(t!==null){var r=e[De].read();r!==null&&(e[ce]=null,e[ee]=null,e[he]=null,t(te(r,!1)))}}function la(e){process.nextTick(aa,e)}function fa(e,t){return function(r,i){e.then(function(){if(t[mt]){r(te(void 0,!0));return}t[pr](r,i)},i)}}var ha=Object.getPrototypeOf(function(){}),ca=Object.setPrototypeOf((gt={get stream(){return this[De]},next:function(){var t=this,r=this[Ge];if(r!==null)return Promise.reject(r);if(this[mt])return Promise.resolve(te(void 0,!0));if(this[De].destroyed)return new Promise(function(s,o){process.nextTick(function(){t[Ge]?o(t[Ge]):s(te(void 0,!0))})});var i=this[ce],n;if(i)n=new Promise(fa(i,this));else{var u=this[De].read();if(u!==null)return Promise.resolve(te(u,!1));n=new Promise(this[pr])}return this[ce]=n,n}},Q(gt,Symbol.asyncIterator,function(){return this}),Q(gt,"return",function(){var t=this;return new Promise(function(r,i){t[De].destroy(null,function(n){if(n){i(n);return}r(te(void 0,!0))})})}),gt),ha),Da=function(t){var r,i=Object.create(ca,(r={},Q(r,De,{value:t,writable:!0}),Q(r,ee,{value:null,writable:!0}),Q(r,he,{value:null,writable:!0}),Q(r,Ge,{value:null,writable:!0}),Q(r,mt,{value:t._readableState.endEmitted,writable:!0}),Q(r,pr,{value:function(u,s){var o=i[De].read();o?(i[ce]=null,i[ee]=null,i[he]=null,u(te(o,!1))):(i[ee]=u,i[he]=s)},writable:!0}),r));return i[ce]=null,oa(t,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var u=i[he];u!==null&&(i[ce]=null,i[ee]=null,i[he]=null,u(n)),i[Ge]=n;return}var s=i[ee];s!==null&&(i[ce]=null,i[ee]=null,i[he]=null,s(te(void 0,!0))),i[mt]=!0}),t.on("readable",la.bind(null,i)),i};Qi.exports=Da});var un=f(($f,nn)=>{"use strict";function tn(e,t,r,i,n,u,s){try{var o=e[u](s),a=o.value}catch(c){r(c);return}o.done?t(a):Promise.resolve(a).then(i,n)}function da(e){return function(){var t=this,r=arguments;return new Promise(function(i,n){var u=e.apply(t,r);function s(a){tn(u,i,n,s,o,"next",a)}function o(a){tn(u,i,n,s,o,"throw",a)}s(void 0)})}}function rn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rn(Object(r),!0).forEach(function(i){ga(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rn(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function ga(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ma=J().codes.ERR_INVALID_ARG_TYPE;function va(e,t,r){var i;if(t&&typeof t.next=="function")i=t;else if(t&&t[Symbol.asyncIterator])i=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])i=t[Symbol.iterator]();else throw new ma("iterable",["Iterable"],t);var n=new e(pa({objectMode:!0},r)),u=!1;n._read=function(){u||(u=!0,s())};function s(){return o.apply(this,arguments)}function o(){return o=da(function*(){try{var a=yield i.next(),c=a.value,d=a.done;d?n.push(null):n.push(yield c)?s():u=!1}catch(g){n.destroy(g)}}),o.apply(this,arguments)}return n}nn.exports=va});var fr=f((Gf,pn)=>{"use strict";pn.exports=p;var Ce;p.ReadableState=ln;var zf=require("events").EventEmitter,an=function(t,r){return t.listeners(r).length},Ve=Jt(),vt=require("buffer").Buffer,Ea=global.Uint8Array||function(){};function ya(e){return vt.from(e)}function ba(e){return vt.isBuffer(e)||e instanceof Ea}var gr=require("util"),D;gr&&gr.debuglog?D=gr.debuglog("stream"):D=function(){};var wa=Ti(),Fr=er(),Fa=tr(),Ca=Fa.getHighWaterMark,Et=J().codes,_a=Et.ERR_INVALID_ARG_TYPE,xa=Et.ERR_STREAM_PUSH_AFTER_EOF,Ta=Et.ERR_METHOD_NOT_IMPLEMENTED,Sa=Et.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,_e,mr,vr;be()(p,Ve);var He=Fr.errorOrDestroy,Er=["error","close","destroy","pause","resume"];function Ra(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function ln(e,t,r){Ce=Ce||le(),e=e||{},typeof r!="boolean"&&(r=t instanceof Ce),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=Ca(this,e,"readableHighWaterMark",r),this.buffer=new wa,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(_e||(_e=dr().StringDecoder),this.decoder=new _e(e.encoding),this.encoding=e.encoding)}function p(e){if(Ce=Ce||le(),!(this instanceof p))return new p(e);var t=this instanceof Ce;this._readableState=new ln(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Ve.call(this)}Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){!this._readableState||(this._readableState.destroyed=t)}});p.prototype.destroy=Fr.destroy;p.prototype._undestroy=Fr.undestroy;p.prototype._destroy=function(e,t){t(e)};p.prototype.push=function(e,t){var r=this._readableState,i;return r.objectMode?i=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=vt.from(e,t),t=""),i=!0),fn(this,e,t,!1,i)};p.prototype.unshift=function(e){return fn(this,e,null,!0,!1)};function fn(e,t,r,i,n){D("readableAddChunk",t);var u=e._readableState;if(t===null)u.reading=!1,ka(e,u);else{var s;if(n||(s=Ba(u,t)),s)He(e,s);else if(u.objectMode||t&&t.length>0)if(typeof t!="string"&&!u.objectMode&&Object.getPrototypeOf(t)!==vt.prototype&&(t=ya(t)),i)u.endEmitted?He(e,new Sa):yr(e,u,t,!0);else if(u.ended)He(e,new xa);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||t.length!==0?yr(e,u,t,!1):wr(e,u)):yr(e,u,t,!1)}else i||(u.reading=!1,wr(e,u))}return!u.ended&&(u.length<u.highWaterMark||u.length===0)}function yr(e,t,r,i){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&yt(e)),wr(e,t)}function Ba(e,t){var r;return!ba(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new _a("chunk",["string","Buffer","Uint8Array"],t)),r}p.prototype.isPaused=function(){return this._readableState.flowing===!1};p.prototype.setEncoding=function(e){_e||(_e=dr().StringDecoder);var t=new _e(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var sn=1073741824;function Aa(e){return e>=sn?e=sn:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function on(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=Aa(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}p.prototype.read=function(e){D("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return D("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?br(this):yt(this),null;if(e=on(e,t),e===0&&t.ended)return t.length===0&&br(this),null;var i=t.needReadable;D("need readable",i),(t.length===0||t.length-e<t.highWaterMark)&&(i=!0,D("length less than watermark",i)),t.ended||t.reading?(i=!1,D("reading or ended",i)):i&&(D("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=on(r,t)));var n;return e>0?n=Dn(e,t):n=null,n===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&br(this)),n!==null&&this.emit("data",n),n};function ka(e,t){if(D("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?yt(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,hn(e)))}}function yt(e){var t=e._readableState;D("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(D("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(hn,e))}function hn(e){var t=e._readableState;D("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,Cr(e)}function wr(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(Pa,e,t))}function Pa(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(D("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}p.prototype._read=function(e){He(this,new Ta("_read()"))};p.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e);break}i.pipesCount+=1,D("pipe count=%d opts=%j",i.pipesCount,t);var n=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,u=n?o:v;i.endEmitted?process.nextTick(u):r.once("end",u),e.on("unpipe",s);function s(F,M){D("onunpipe"),F===r&&M&&M.hasUnpiped===!1&&(M.hasUnpiped=!0,d())}function o(){D("onend"),e.end()}var a=Oa(r);e.on("drain",a);var c=!1;function d(){D("cleanup"),e.removeListener("close",m),e.removeListener("finish",B),e.removeListener("drain",a),e.removeListener("error",l),e.removeListener("unpipe",s),r.removeListener("end",o),r.removeListener("end",v),r.removeListener("data",g),c=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&a()}r.on("data",g);function g(F){D("ondata");var M=e.write(F);D("dest.write",M),M===!1&&((i.pipesCount===1&&i.pipes===e||i.pipesCount>1&&dn(i.pipes,e)!==-1)&&!c&&(D("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function l(F){D("onerror",F),v(),e.removeListener("error",l),an(e,"error")===0&&He(e,F)}Ra(e,"error",l);function m(){e.removeListener("finish",B),v()}e.once("close",m);function B(){D("onfinish"),e.removeListener("close",m),v()}e.once("finish",B);function v(){D("unpipe"),r.unpipe(e)}return e.emit("pipe",r),i.flowing||(D("pipe resume"),r.resume()),e};function Oa(e){return function(){var r=e._readableState;D("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&an(e,"data")&&(r.flowing=!0,Cr(e))}}p.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var u=0;u<n;u++)i[u].emit("unpipe",this,{hasUnpiped:!1});return this}var s=dn(t.pipes,e);return s===-1?this:(t.pipes.splice(s,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};p.prototype.on=function(e,t){var r=Ve.prototype.on.call(this,e,t),i=this._readableState;return e==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):e==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,D("on readable",i.length,i.reading),i.length?yt(this):i.reading||process.nextTick(La,this)),r};p.prototype.addListener=p.prototype.on;p.prototype.removeListener=function(e,t){var r=Ve.prototype.removeListener.call(this,e,t);return e==="readable"&&process.nextTick(cn,this),r};p.prototype.removeAllListeners=function(e){var t=Ve.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&process.nextTick(cn,this),t};function cn(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function La(e){D("readable nexttick read 0"),e.read(0)}p.prototype.resume=function(){var e=this._readableState;return e.flowing||(D("resume"),e.flowing=!e.readableListening,Ma(this,e)),e.paused=!1,this};function Ma(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(Na,e,t))}function Na(e,t){D("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),Cr(e),t.flowing&&!t.reading&&e.read(0)}p.prototype.pause=function(){return D("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(D("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Cr(e){var t=e._readableState;for(D("flow",t.flowing);t.flowing&&e.read()!==null;);}p.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;e.on("end",function(){if(D("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&t.push(s)}t.push(null)}),e.on("data",function(s){if(D("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var o=t.push(s);o||(i=!0,e.pause())}});for(var n in e)this[n]===void 0&&typeof e[n]=="function"&&(this[n]=function(o){return function(){return e[o].apply(e,arguments)}}(n));for(var u=0;u<Er.length;u++)e.on(Er[u],this.emit.bind(this,Er[u]));return this._read=function(s){D("wrapped _read",s),i&&(i=!1,e.resume())},this};typeof Symbol=="function"&&(p.prototype[Symbol.asyncIterator]=function(){return mr===void 0&&(mr=en()),mr(this)});Object.defineProperty(p.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(p.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(p.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}});p._fromList=Dn;Object.defineProperty(p.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Dn(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function br(e){var t=e._readableState;D("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(qa,t,e))}function qa(e,t){if(D("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(p.from=function(e,t){return vr===void 0&&(vr=un()),vr(p,e,t)});function dn(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}});var _r=f((Hf,mn)=>{"use strict";mn.exports=Y;var bt=J().codes,Ia=bt.ERR_METHOD_NOT_IMPLEMENTED,ja=bt.ERR_MULTIPLE_CALLBACK,Ua=bt.ERR_TRANSFORM_ALREADY_TRANSFORMING,Wa=bt.ERR_TRANSFORM_WITH_LENGTH_0,wt=le();be()(Y,wt);function $a(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new ja);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function Y(e){if(!(this instanceof Y))return new Y(e);wt.call(this,e),this._transformState={afterTransform:$a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",za)}function za(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){gn(e,t,r)}):gn(this,null,null)}Y.prototype.push=function(e,t){return this._transformState.needTransform=!1,wt.prototype.push.call(this,e,t)};Y.prototype._transform=function(e,t,r){r(new Ia("_transform()"))};Y.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};Y.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Y.prototype._destroy=function(e,t){wt.prototype._destroy.call(this,e,function(r){t(r)})};function gn(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Wa;if(e._transformState.transforming)throw new Ua;return e.push(null)}});var yn=f((Vf,En)=>{"use strict";En.exports=Ye;var vn=_r();be()(Ye,vn);function Ye(e){if(!(this instanceof Ye))return new Ye(e);vn.call(this,e)}Ye.prototype._transform=function(e,t,r){r(null,e)}});var _n=f((Yf,Cn)=>{"use strict";var xr;function Ga(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var Fn=J().codes,Ha=Fn.ERR_MISSING_ARGS,Va=Fn.ERR_STREAM_DESTROYED;function bn(e){if(e)throw e}function Ya(e){return e.setHeader&&typeof e.abort=="function"}function Ka(e,t,r,i){i=Ga(i);var n=!1;e.on("close",function(){n=!0}),xr===void 0&&(xr=pt()),xr(e,{readable:t,writable:r},function(s){if(s)return i(s);n=!0,i()});var u=!1;return function(s){if(!n&&!u){if(u=!0,Ya(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();i(s||new Va("pipe"))}}}function wn(e){e()}function Za(e,t){return e.pipe(t)}function Ja(e){return!e.length||typeof e[e.length-1]!="function"?bn:e.pop()}function Xa(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=Ja(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Ha("streams");var n,u=t.map(function(s,o){var a=o<t.length-1,c=o>0;return Ka(s,a,c,function(d){n||(n=d),d&&u.forEach(wn),!a&&(u.forEach(wn),i(n))})});return t.reduce(Za)}Cn.exports=Xa});var xn=f((q,Ze)=>{var Ke=require("stream");process.env.READABLE_STREAM==="disable"&&Ke?(Ze.exports=Ke.Readable,Object.assign(Ze.exports,Ke),Ze.exports.Stream=Ke):(q=Ze.exports=fr(),q.Stream=Ke||q,q.Readable=q,q.Writable=or(),q.Duplex=le(),q.Transform=_r(),q.PassThrough=yn(),q.finished=pt(),q.pipeline=_n())});var Sn=f((Kf,Tn)=>{Tn.exports=re;function re(e,t){if(!(this instanceof re))return new re(e,t);this.proto=e,this.target=t,this.methods=[],this.getters=[],this.setters=[],this.fluents=[]}re.prototype.method=function(e){var t=this.proto,r=this.target;return this.methods.push(e),t[e]=function(){return this[r][e].apply(this[r],arguments)},this};re.prototype.access=function(e){return this.getter(e).setter(e)};re.prototype.getter=function(e){var t=this.proto,r=this.target;return this.getters.push(e),t.__defineGetter__(e,function(){return this[r][e]}),this};re.prototype.setter=function(e){var t=this.proto,r=this.target;return this.setters.push(e),t.__defineSetter__(e,function(i){return this[r][e]=i}),this};re.prototype.fluent=function(e){var t=this.proto,r=this.target;return this.fluents.push(e),t[e]=function(i){return typeof i<"u"?(this[r][e]=i,this):this[r][e]},this}});var Tr=f((Zf,Bn)=>{"use strict";var Qa=require("util"),Rn=xn(),el=Sn(),tl=ot(),Ft=Bn.exports=function(e,t,r){Rn.Transform.call(this,r),this.tracker=new tl(e,t),this.name=e,this.id=this.tracker.id,this.tracker.on("change",rl(this))};Qa.inherits(Ft,Rn.Transform);function rl(e){return function(t,r,i){e.emit("change",t,r,e)}}Ft.prototype._transform=function(e,t,r){this.tracker.completeWork(e.length?e.length:1),this.push(e),r()};Ft.prototype._flush=function(e){this.tracker.finish(),e()};el(Ft.prototype,"tracker").method("completed").method("addWork").method("finish")});var On=f((Jf,Pn)=>{"use strict";var il=require("util"),An=Zt(),kn=ot(),nl=Tr(),j=Pn.exports=function(e){An.call(this,e),this.parentGroup=null,this.trackers=[],this.completion={},this.weight={},this.totalWeight=0,this.finished=!1,this.bubbleChange=ul(this)};il.inherits(j,An);function ul(e){return function(t,r,i){e.completion[i.id]=r,!e.finished&&e.emit("change",t||e.name,e.completed(),e)}}j.prototype.nameInTree=function(){for(var e=[],t=this;t;)e.unshift(t.name),t=t.parentGroup;return e.join("/")};j.prototype.addUnit=function(e,t){if(e.addUnit){for(var r=this;r;){if(e===r)throw new Error("Attempted to add tracker group "+e.name+" to tree that already includes it "+this.nameInTree(this));r=r.parentGroup}e.parentGroup=this}return this.weight[e.id]=t||1,this.totalWeight+=this.weight[e.id],this.trackers.push(e),this.completion[e.id]=e.completed(),e.on("change",this.bubbleChange),this.finished||this.emit("change",e.name,this.completion[e.id],e),e};j.prototype.completed=function(){if(this.trackers.length===0)return 0;for(var e=1/this.totalWeight,t=0,r=0;r<this.trackers.length;r++){var i=this.trackers[r].id;t+=e*this.weight[i]*this.completion[i]}return t};j.prototype.newGroup=function(e,t){return this.addUnit(new j(e),t)};j.prototype.newItem=function(e,t,r){return this.addUnit(new kn(e,t),r)};j.prototype.newStream=function(e,t,r){return this.addUnit(new nl(e,t),r)};j.prototype.finish=function(){this.finished=!0,this.trackers.length||this.addUnit(new kn,1,!0);for(var e=0;e<this.trackers.length;e++){var t=this.trackers[e];t.finish(),t.removeListener("change",this.bubbleChange)}this.emit("change",this.name,1,this)};var sl="                                  ";j.prototype.debug=function(e){e=e||0;var t=e?sl.substr(0,e):"",r=t+(this.name||"top")+": "+this.completed()+`
`;return this.trackers.forEach(function(i){i instanceof j?r+=i.debug(e+1):r+=t+" "+i.name+": "+i.completed()+`
`}),r}});var Ln=f(Ct=>{"use strict";Ct.TrackerGroup=On();Ct.Tracker=ot();Ct.TrackerStream=Tr()});var _t=f(R=>{"use strict";var P="\x1B[";R.up=function(t){return P+(t||"")+"A"};R.down=function(t){return P+(t||"")+"B"};R.forward=function(t){return P+(t||"")+"C"};R.back=function(t){return P+(t||"")+"D"};R.nextLine=function(t){return P+(t||"")+"E"};R.previousLine=function(t){return P+(t||"")+"F"};R.horizontalAbsolute=function(t){if(t==null)throw new Error("horizontalAboslute requires a column to position to");return P+t+"G"};R.eraseData=function(){return P+"J"};R.eraseLine=function(){return P+"K"};R.goto=function(e,t){return P+t+";"+e+"H"};R.gotoSOL=function(){return"\r"};R.beep=function(){return"\x07"};R.hideCursor=function(){return P+"?25l"};R.showCursor=function(){return P+"?25h"};var Mn={reset:0,bold:1,italic:3,underline:4,inverse:7,stopBold:22,stopItalic:23,stopUnderline:24,stopInverse:27,white:37,black:30,blue:34,cyan:36,green:32,magenta:35,red:31,yellow:33,bgWhite:47,bgBlack:40,bgBlue:44,bgCyan:46,bgGreen:42,bgMagenta:45,bgRed:41,bgYellow:43,grey:90,brightBlack:90,brightRed:91,brightGreen:92,brightYellow:93,brightBlue:94,brightMagenta:95,brightCyan:96,brightWhite:97,bgGrey:100,bgBrightBlack:100,bgBrightRed:101,bgBrightGreen:102,bgBrightYellow:103,bgBrightBlue:104,bgBrightMagenta:105,bgBrightCyan:106,bgBrightWhite:107};R.color=function(t){return(arguments.length!==1||!Array.isArray(t))&&(t=Array.prototype.slice.call(arguments)),P+t.map(ol).join(";")+"m"};function ol(e){if(Mn[e]!=null)return Mn[e];throw new Error("Unknown color or style name: "+e)}});var qn=f((eh,Nn)=>{"use strict";Nn.exports=({onlyFirst:e=!1}={})=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}});var jn=f((th,In)=>{"use strict";var al=qn();In.exports=e=>typeof e=="string"?e.replace(al(),""):e});var Wn=f((rh,Sr)=>{"use strict";var Un=e=>Number.isNaN(e)?!1:e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);Sr.exports=Un;Sr.exports.default=Un});var zn=f((ih,$n)=>{"use strict";$n.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});var Je=f((nh,Rr)=>{"use strict";var ll=jn(),fl=Wn(),hl=zn(),Gn=e=>{if(typeof e!="string"||e.length===0||(e=ll(e),e.length===0))return 0;e=e.replace(hl(),"  ");let t=0;for(let r=0;r<e.length;r++){let i=e.codePointAt(r);i<=31||i>=127&&i<=159||i>=768&&i<=879||(i>65535&&r++,t+=fl(i)?2:1)}return t};Rr.exports=Gn;Rr.exports.default=Gn});var Hn=f(Tt=>{"use strict";var Br=Je();Tt.center=dl;Tt.left=cl;Tt.right=Dl;function xt(e){var t="",r=" ",i=e;do i%2&&(t+=r),i=Math.floor(i/2),r+=r;while(i);return t}function cl(e,t){var r=e.trimRight();if(r.length===0&&e.length>=t)return e;var i="",n=Br(r);return n<t&&(i=xt(t-n)),r+i}function Dl(e,t){var r=e.trimLeft();if(r.length===0&&e.length>=t)return e;var i="",n=Br(r);return n<t&&(i=xt(t-n)),i+r}function dl(e,t){var r=e.trim();if(r.length===0&&e.length>=t)return e;var i="",n="",u=Br(r);if(u<t){var s=parseInt((t-u)/2,10);i=xt(s),n=xt(t-(u+s))}return i+r+n}});var Rt=f((sh,Jn)=>{"use strict";Jn.exports=Kn;function pl(e){return e!=null&&typeof e=="object"&&e.hasOwnProperty("callee")}var G={"*":{label:"any",check:()=>!0},A:{label:"array",check:e=>Array.isArray(e)||pl(e)},S:{label:"string",check:e=>typeof e=="string"},N:{label:"number",check:e=>typeof e=="number"},F:{label:"function",check:e=>typeof e=="function"},O:{label:"object",check:e=>typeof e=="object"&&e!=null&&!G.A.check(e)&&!G.E.check(e)},B:{label:"boolean",check:e=>typeof e=="boolean"},E:{label:"error",check:e=>e instanceof Error},Z:{label:"null",check:e=>e==null}};function St(e,t){let r=t[e.length]=t[e.length]||[];r.indexOf(e)===-1&&r.push(e)}function Kn(e,t){if(arguments.length!==2)throw Yn(["SA"],arguments.length);if(!e)throw Vn(0,"rawSchemas");if(!t)throw Vn(1,"args");if(!G.S.check(e))throw Ar(0,["string"],e);if(!G.A.check(t))throw Ar(1,["array"],t);let r=e.split("|"),i={};r.forEach(u=>{for(let s=0;s<u.length;++s){let o=u[s];if(!G[o])throw gl(s,o)}if(/E.*E/.test(u))throw ml(u);St(u,i),/E/.test(u)&&(St(u.replace(/E.*$/,"E"),i),St(u.replace(/E/,"Z"),i),u.length===1&&St("",i))});let n=i[t.length];if(!n)throw Yn(Object.keys(i),t.length);for(let u=0;u<t.length;++u){let s=n.filter(o=>{let a=o[u],c=G[a].check;return c(t[u])});if(!s.length){let o=n.map(a=>G[a[u]].label).filter(a=>a!=null);throw Ar(u,o,t[u])}n=s}}function Vn(e){return Xe("EMISSINGARG","Missing required argument #"+(e+1))}function gl(e,t){return Xe("EUNKNOWNTYPE","Unknown type "+t+" in argument #"+(e+1))}function Ar(e,t,r){let i;return Object.keys(G).forEach(n=>{G[n].check(r)&&(i=G[n].label)}),Xe("EINVALIDTYPE","Argument #"+(e+1)+": Expected "+Zn(t)+" but got "+i)}function Zn(e){return e.join(", ").replace(/, ([^,]+)$/," or $1")}function Yn(e,t){let r=Zn(e),i=e.every(n=>n.length===1)?"argument":"arguments";return Xe("EWRONGARGCOUNT","Expected "+r+" "+i+" but got "+t)}function ml(e){return Xe("ETOOMANYERRORTYPES",'Only one error type per argument signature is allowed, more than one found in "'+e+'"')}function Xe(e,t){let r=new Error(t);return r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Kn),r}});var Qn=f((oh,Xn)=>{"use strict";Xn.exports=({onlyFirst:e=!1}={})=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}});var tu=f((ah,eu)=>{"use strict";var vl=Qn();eu.exports=e=>typeof e=="string"?e.replace(vl(),""):e});var Pr=f((lh,ru)=>{"use strict";var kr=Je(),El=tu();ru.exports=yl;function yl(e,t){if(kr(e)===0)return e;if(t<=0)return"";if(kr(e)<=t)return e;for(var r=El(e),i=e.length+r.length,n=e.slice(0,t+i);kr(n)>t;)n=n.slice(0,-1);return n}});var iu=f(Bt=>{"use strict";var bl=require("util"),wl=Bt.User=function e(t){var r=new Error(t);return Error.captureStackTrace(r,e),r.code="EGAUGE",r};Bt.MissingTemplateValue=function e(t,r){var i=new wl(bl.format('Missing template value "%s"',t.type));return Error.captureStackTrace(i,e),i.template=t,i.values=r,i};Bt.Internal=function e(t){var r=new Error(t);return Error.captureStackTrace(r,e),r.code="EGAUGEINTERNAL",r}});var uu=f((hh,nu)=>{"use strict";var Fl=Je();nu.exports=xe;function Or(e){return typeof e!="string"?!1:e.slice(-1)==="%"}function Lr(e){return Number(e.slice(0,-1))/100}function xe(e,t){if(this.overallOutputLength=t,this.finished=!1,this.type=null,this.value=null,this.length=null,this.maxLength=null,this.minLength=null,this.kerning=null,this.align="left",this.padLeft=0,this.padRight=0,this.index=null,this.first=null,this.last=null,typeof e=="string")this.value=e;else for(var r in e)this[r]=e[r];return Or(this.length)&&(this.length=Math.round(this.overallOutputLength*Lr(this.length))),Or(this.minLength)&&(this.minLength=Math.round(this.overallOutputLength*Lr(this.minLength))),Or(this.maxLength)&&(this.maxLength=Math.round(this.overallOutputLength*Lr(this.maxLength))),this}xe.prototype={};xe.prototype.getBaseLength=function(){var e=this.length;return e==null&&typeof this.value=="string"&&this.maxLength==null&&this.minLength==null&&(e=Fl(this.value)),e};xe.prototype.getLength=function(){var e=this.getBaseLength();return e==null?null:e+this.padLeft+this.padRight};xe.prototype.getMaxLength=function(){return this.maxLength==null?null:this.maxLength+this.padLeft+this.padRight};xe.prototype.getMinLength=function(){return this.minLength==null?null:this.minLength+this.padLeft+this.padRight}});var Mr=f((ch,lu)=>{"use strict";var Qe=Hn(),Cl=Rt(),su=Pr(),Te=iu(),_l=uu();function xl(e){return function(t){return kl(t,e)}}var Tl=lu.exports=function(e,t,r){var i=Bl(e,t,r),n=i.map(xl(r)).join("");return Qe.left(su(n,e),e)};function ou(e){var t=e.type[0].toUpperCase()+e.type.slice(1);return"pre"+t}function au(e){var t=e.type[0].toUpperCase()+e.type.slice(1);return"post"+t}function Sl(e,t){if(!!e.type)return t[ou(e)]||t[au(e)]}function Rl(e,t){var r=Object.assign({},e),i=Object.create(t),n=[],u=ou(r),s=au(r);return i[u]&&(n.push({value:i[u]}),i[u]=null),r.minLength=null,r.length=null,r.maxLength=null,n.push(r),i[r.type]=i[r.type],i[s]&&(n.push({value:i[s]}),i[s]=null),function(o,a,c){return Tl(c,n,i)}}function Bl(e,t,r){function i(l,m,B){var v=new _l(l,e),F=v.type;if(v.value==null)if(F in r)v.value=r[F];else{if(v.default==null)throw new Te.MissingTemplateValue(v,r);v.value=v.default}return v.value==null||v.value===""?null:(v.index=m,v.first=m===0,v.last=m===B.length-1,Sl(v,r)&&(v.value=Rl(v,r)),v)}var n=t.map(i).filter(function(l){return l!=null}),u=e,s=n.length;function o(l){l>u&&(l=u),u-=l}function a(l,m){if(l.finished)throw new Te.Internal("Tried to finish template item that was already finished");if(m===1/0)throw new Te.Internal("Length of template item cannot be infinity");if(m!=null&&(l.length=m),l.minLength=null,l.maxLength=null,--s,l.finished=!0,l.length==null&&(l.length=l.getBaseLength()),l.length==null)throw new Te.Internal("Finished template items must have a length");o(l.getLength())}n.forEach(function(l){if(!!l.kerning){var m=l.first?0:n[l.index-1].padRight;!l.first&&m<l.kerning&&(l.padLeft=l.kerning-m),l.last||(l.padRight=l.kerning)}}),n.forEach(function(l){l.getBaseLength()!=null&&a(l)});var c=0,d,g;do d=!1,g=Math.round(u/s),n.forEach(function(l){l.finished||!l.maxLength||l.getMaxLength()<g&&(a(l,l.maxLength),d=!0)});while(d&&c++<n.length);if(d)throw new Te.Internal("Resize loop iterated too many times while determining maxLength");c=0;do d=!1,g=Math.round(u/s),n.forEach(function(l){l.finished||!l.minLength||l.getMinLength()>=g&&(a(l,l.minLength),d=!0)});while(d&&c++<n.length);if(d)throw new Te.Internal("Resize loop iterated too many times while determining minLength");return g=Math.round(u/s),n.forEach(function(l){l.finished||a(l,g)}),n}function Al(e,t,r){return Cl("OON",arguments),e.type?e.value(t,t[e.type+"Theme"]||{},r):e.value(t,{},r)}function kl(e,t){var r=e.getBaseLength(),i=typeof e.value=="function"?Al(e,t,r):e.value;if(i==null||i==="")return"";var n=Qe[e.align]||Qe.left,u=e.padLeft?Qe.left("",e.padLeft):"",s=e.padRight?Qe.right("",e.padRight):"",o=su(String(i),r),a=n(o,r);return u+a+s}});var hu=f((Dh,fu)=>{"use strict";var de=_t(),Pl=Mr(),At=Rt(),ie=fu.exports=function(e,t,r){r||(r=80),At("OAN",[e,t,r]),this.showing=!1,this.theme=e,this.width=r,this.template=t};ie.prototype={};ie.prototype.setTheme=function(e){At("O",[e]),this.theme=e};ie.prototype.setTemplate=function(e){At("A",[e]),this.template=e};ie.prototype.setWidth=function(e){At("N",[e]),this.width=e};ie.prototype.hide=function(){return de.gotoSOL()+de.eraseLine()};ie.prototype.hideCursor=de.hideCursor;ie.prototype.showCursor=de.showCursor;ie.prototype.show=function(e){var t=Object.create(this.theme);for(var r in e)t[r]=e[r];return Pl(this.width,this.template,t).trim()+de.color("reset")+de.eraseLine()+de.gotoSOL()}});var Du=f((ph,cu)=>{"use strict";var Ol=require("os"),dh=cu.exports=function(){if(Ol.type()=="Windows_NT")return!1;var e=/UTF-?8$/i,t=process.env.LC_ALL||process.env.LC_CTYPE||process.env.LANG;return e.test(t)}});var gu=f((gh,pu)=>{pu.exports=du({alwaysReturn:!0},du);function Se(e,t){return e.level=0,e.hasBasic=!1,e.has256=!1,e.has16m=!1,t.alwaysReturn?e:!1}function kt(e){return e.hasBasic=!0,e.has256=!1,e.has16m=!1,e.level=1,e}function Re(e){return e.hasBasic=!0,e.has256=!0,e.has16m=!1,e.level=2,e}function Pt(e){return e.hasBasic=!0,e.has256=!0,e.has16m=!0,e.level=3,e}function du(e,t){if(e=e||{},t=t||{},typeof e.level=="number")switch(e.level){case 0:return Se(t,e);case 1:return kt(t);case 2:return Re(t);case 3:return Pt(t)}if(t.level=0,t.hasBasic=!1,t.has256=!1,t.has16m=!1,typeof process>"u"||!process||!process.stdout||!process.env||!process.platform)return Se(t,e);var r=e.env||process.env,i=e.stream||process.stdout,n=e.term||r.TERM||"",u=e.platform||process.platform;if(!e.ignoreTTY&&!i.isTTY||!e.ignoreDumb&&n==="dumb"&&!r.COLORTERM)return Se(t,e);if(u==="win32")return kt(t);if(r.TMUX)return Re(t);if(!e.ignoreCI&&(r.CI||r.TEAMCITY_VERSION))return r.TRAVIS?Re(t):Se(t,e);switch(r.TERM_PROGRAM){case"iTerm.app":var s=r.TERM_PROGRAM_VERSION||"0.";return/^[0-2]\./.test(s)?Re(t):Pt(t);case"HyperTerm":case"Hyper":return Pt(t);case"MacTerm":return Pt(t);case"Apple_Terminal":return Re(t)}return/^xterm-256/.test(n)?Re(t):/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(n)||r.COLORTERM?kt(t):Se(t,e)}});var vu=f((mh,mu)=>{"use strict";var Ll=gu();mu.exports=Ll().hasBasic});var Eu=f((vh,Ot)=>{Ot.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Ot.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Ot.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Cu=f((Eh,ke)=>{var E=global.process,pe=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};pe(E)?(yu=require("assert"),Be=Eu(),bu=/^win/i.test(E.platform),et=require("events"),typeof et!="function"&&(et=et.EventEmitter),E.__signal_exit_emitter__?x=E.__signal_exit_emitter__:(x=E.__signal_exit_emitter__=new et,x.count=0,x.emitted={}),x.infinite||(x.setMaxListeners(1/0),x.infinite=!0),ke.exports=function(e,t){if(!pe(global.process))return function(){};yu.equal(typeof e,"function","a callback must be provided for exit handler"),Ae===!1&&Nr();var r="exit";t&&t.alwaysLast&&(r="afterexit");var i=function(){x.removeListener(r,e),x.listeners("exit").length===0&&x.listeners("afterexit").length===0&&Lt()};return x.on(r,e),i},Lt=function(){!Ae||!pe(global.process)||(Ae=!1,Be.forEach(function(t){try{E.removeListener(t,Mt[t])}catch{}}),E.emit=Nt,E.reallyExit=qr,x.count-=1)},ke.exports.unload=Lt,ge=function(t,r,i){x.emitted[t]||(x.emitted[t]=!0,x.emit(t,r,i))},Mt={},Be.forEach(function(e){Mt[e]=function(){if(!!pe(global.process)){var r=E.listeners(e);r.length===x.count&&(Lt(),ge("exit",null,e),ge("afterexit",null,e),bu&&e==="SIGHUP"&&(e="SIGINT"),E.kill(E.pid,e))}}}),ke.exports.signals=function(){return Be},Ae=!1,Nr=function(){Ae||!pe(global.process)||(Ae=!0,x.count+=1,Be=Be.filter(function(t){try{return E.on(t,Mt[t]),!0}catch{return!1}}),E.emit=Fu,E.reallyExit=wu)},ke.exports.load=Nr,qr=E.reallyExit,wu=function(t){!pe(global.process)||(E.exitCode=t||0,ge("exit",E.exitCode,null),ge("afterexit",E.exitCode,null),qr.call(E,E.exitCode))},Nt=E.emit,Fu=function(t,r){if(t==="exit"&&pe(global.process)){r!==void 0&&(E.exitCode=r);var i=Nt.apply(this,arguments);return ge("exit",E.exitCode,null),ge("afterexit",E.exitCode,null),i}else return Nt.apply(this,arguments)}):ke.exports=function(){return function(){}};var yu,Be,bu,et,x,Lt,ge,Mt,Ae,Nr,qr,wu,Nt,Fu});var xu=f((yh,_u)=>{"use strict";_u.exports=function(t,r){return t[r%t.length]}});var Ru=f((bh,Su)=>{"use strict";var Ml=Rt(),Nl=Mr(),ql=Pr(),Il=Je();Su.exports=function(e,t,r){if(Ml("ONN",[e,t,r]),r<0&&(r=0),r>1&&(r=1),t<=0)return"";var i=Math.round(t*r),n=t-i,u=[{type:"complete",value:Tu(e.complete,i),length:i},{type:"remaining",value:Tu(e.remaining,n),length:n}];return Nl(t,u,e)};function Tu(e,t){var r="",i=t;do i%2&&(r+=e),i=Math.floor(i/2),e+=e;while(i&&Il(r)<t);return ql(r,t)}});var Au=f((wh,Bu)=>{"use strict";var jl=xu(),Ul=Ru();Bu.exports={activityIndicator:function(e,t,r){if(e.spun!=null)return jl(t,e.spun)},progressbar:function(e,t,r){if(e.completed!=null)return Ul(t,r,e.completed)}}});var Pu=f((Fh,ku)=>{"use strict";ku.exports=function(){return O.newThemeSet()};var O={};O.baseTheme=Au();O.newTheme=function(e,t){return t||(t=e,e=this.baseTheme),Object.assign({},e,t)};O.getThemeNames=function(){return Object.keys(this.themes)};O.addTheme=function(e,t,r){this.themes[e]=this.newTheme(t,r)};O.addToAllThemes=function(e){var t=this.themes;Object.keys(t).forEach(function(r){Object.assign(t[r],e)}),Object.assign(this.baseTheme,e)};O.getTheme=function(e){if(!this.themes[e])throw this.newMissingThemeError(e);return this.themes[e]};O.setDefault=function(e,t){t==null&&(t=e,e={});var r=e.platform==null?"fallback":e.platform,i=!!e.hasUnicode,n=!!e.hasColor;this.defaults[r]||(this.defaults[r]={true:{},false:{}}),this.defaults[r][i][n]=t};O.getDefault=function(e){e||(e={});var t=e.platform||process.platform,r=this.defaults[t]||this.defaults.fallback,i=!!e.hasUnicode,n=!!e.hasColor;if(!r)throw this.newMissingDefaultThemeError(t,i,n);if(!r[i][n]){if(i&&n&&r[!i][n])i=!1;else if(i&&n&&r[i][!n])n=!1;else if(i&&n&&r[!i][!n])i=!1,n=!1;else if(i&&!n&&r[!i][n])i=!1;else if(!i&&n&&r[i][!n])n=!1;else if(r===this.defaults.fallback)throw this.newMissingDefaultThemeError(t,i,n)}return r[i][n]?this.getTheme(r[i][n]):this.getDefault(Object.assign({},e,{platform:"fallback"}))};O.newMissingThemeError=function e(t){var r=new Error('Could not find a gauge theme named "'+t+'"');return Error.captureStackTrace.call(r,e),r.theme=t,r.code="EMISSINGTHEME",r};O.newMissingDefaultThemeError=function e(t,r,i){var n=new Error(`Could not find a gauge theme for your platform/unicode/color use combo:
    platform = `+t+`
    hasUnicode = `+r+`
    hasColor = `+i);return Error.captureStackTrace.call(n,e),n.platform=t,n.hasUnicode=r,n.hasColor=i,n.code="EMISSINGTHEME",n};O.newThemeSet=function(){var e=function(t){return e.getDefault(t)};return Object.assign(e,O,{themes:Object.assign({},this.themes),baseTheme:Object.assign({},this.baseTheme),defaults:JSON.parse(JSON.stringify(this.defaults||{}))})}});var Lu=f((Ch,Ou)=>{"use strict";var ne=_t().color,Wl=Pu(),I=Ou.exports=new Wl;I.addTheme("ASCII",{preProgressbar:"[",postProgressbar:"]",progressbarTheme:{complete:"#",remaining:"."},activityIndicatorTheme:"-\\|/",preSubsection:">"});I.addTheme("colorASCII",I.getTheme("ASCII"),{progressbarTheme:{preComplete:ne("bgBrightWhite","brightWhite"),complete:"#",postComplete:ne("reset"),preRemaining:ne("bgBrightBlack","brightBlack"),remaining:".",postRemaining:ne("reset")}});I.addTheme("brailleSpinner",{preProgressbar:"(",postProgressbar:")",progressbarTheme:{complete:"#",remaining:"\u2802"},activityIndicatorTheme:"\u280B\u2819\u2839\u2838\u283C\u2834\u2826\u2827\u2807\u280F",preSubsection:">"});I.addTheme("colorBrailleSpinner",I.getTheme("brailleSpinner"),{progressbarTheme:{preComplete:ne("bgBrightWhite","brightWhite"),complete:"#",postComplete:ne("reset"),preRemaining:ne("bgBrightBlack","brightBlack"),remaining:"\u2802",postRemaining:ne("reset")}});I.setDefault({},"ASCII");I.setDefault({hasColor:!0},"colorASCII");I.setDefault({platform:"darwin",hasUnicode:!0},"brailleSpinner");I.setDefault({platform:"darwin",hasUnicode:!0,hasColor:!0},"colorBrailleSpinner");I.setDefault({platform:"linux",hasUnicode:!0},"brailleSpinner");I.setDefault({platform:"linux",hasUnicode:!0,hasColor:!0},"colorBrailleSpinner")});var Nu=f((_h,Mu)=>{"use strict";Mu.exports=setInterval});var Ir=f((xh,qu)=>{"use strict";qu.exports=process});var Iu=f((Th,jr)=>{"use strict";var $l=Ir();try{jr.exports=setImmediate}catch{jr.exports=$l.nextTick}});var Uu=f((Sh,ju)=>{"use strict";var zl=hu(),Gl=Du(),Hl=vu(),Vl=Cu(),Yl=Lu(),Kl=Nu(),me=Ir(),Zl=Iu();ju.exports=C;function qt(e,t){return function(){return t.call(e)}}function C(e,t){var r,i;e&&e.write?(i=e,r=t||{}):t&&t.write?(i=t,r=e||{}):(i=me.stderr,r=e||t||{}),this._status={spun:0,section:"",subsection:""},this._paused=!1,this._disabled=!0,this._showing=!1,this._onScreen=!1,this._needsRedraw=!1,this._hideCursor=r.hideCursor==null?!0:r.hideCursor,this._fixedFramerate=r.fixedFramerate==null?!/^v0\.8\./.test(me.version):r.fixedFramerate,this._lastUpdateAt=null,this._updateInterval=r.updateInterval==null?50:r.updateInterval,this._themes=r.themes||Yl,this._theme=r.theme;var n=this._computeTheme(r.theme),u=r.template||[{type:"progressbar",length:20},{type:"activityIndicator",kerning:1,length:1},{type:"section",kerning:1,default:""},{type:"subsection",kerning:1,default:""}];this.setWriteTo(i,r.tty);var s=r.Plumbing||zl;this._gauge=new s(n,u,this.getWidth()),this._$$doRedraw=qt(this,this._doRedraw),this._$$handleSizeChange=qt(this,this._handleSizeChange),this._cleanupOnExit=r.cleanupOnExit==null||r.cleanupOnExit,this._removeOnExit=null,r.enabled||r.enabled==null&&this._tty&&this._tty.isTTY?this.enable():this.disable()}C.prototype={};C.prototype.isEnabled=function(){return!this._disabled};C.prototype.setTemplate=function(e){this._gauge.setTemplate(e),this._showing&&this._requestRedraw()};C.prototype._computeTheme=function(e){if(e||(e={}),typeof e=="string")e=this._themes.getTheme(e);else if(Object.keys(e).length===0||e.hasUnicode!=null||e.hasColor!=null){var t=e.hasUnicode==null?Gl():e.hasUnicode,r=e.hasColor==null?Hl:e.hasColor;e=this._themes.getDefault({hasUnicode:t,hasColor:r,platform:e.platform})}return e};C.prototype.setThemeset=function(e){this._themes=e,this.setTheme(this._theme)};C.prototype.setTheme=function(e){this._gauge.setTheme(this._computeTheme(e)),this._showing&&this._requestRedraw(),this._theme=e};C.prototype._requestRedraw=function(){this._needsRedraw=!0,this._fixedFramerate||this._doRedraw()};C.prototype.getWidth=function(){return(this._tty&&this._tty.columns||80)-1};C.prototype.setWriteTo=function(e,t){var r=!this._disabled;r&&this.disable(),this._writeTo=e,this._tty=t||e===me.stderr&&me.stdout.isTTY&&me.stdout||e.isTTY&&e||this._tty,this._gauge&&this._gauge.setWidth(this.getWidth()),r&&this.enable()};C.prototype.enable=function(){!this._disabled||(this._disabled=!1,this._tty&&this._enableEvents(),this._showing&&this.show())};C.prototype.disable=function(){this._disabled||(this._showing&&(this._lastUpdateAt=null,this._showing=!1,this._doRedraw(),this._showing=!0),this._disabled=!0,this._tty&&this._disableEvents())};C.prototype._enableEvents=function(){this._cleanupOnExit&&(this._removeOnExit=Vl(qt(this,this.disable))),this._tty.on("resize",this._$$handleSizeChange),this._fixedFramerate&&(this.redrawTracker=Kl(this._$$doRedraw,this._updateInterval),this.redrawTracker.unref&&this.redrawTracker.unref())};C.prototype._disableEvents=function(){this._tty.removeListener("resize",this._$$handleSizeChange),this._fixedFramerate&&clearInterval(this.redrawTracker),this._removeOnExit&&this._removeOnExit()};C.prototype.hide=function(e){if(this._disabled||!this._showing)return e&&me.nextTick(e);this._showing=!1,this._doRedraw(),e&&Zl(e)};C.prototype.show=function(e,t){if(this._showing=!0,typeof e=="string")this._status.section=e;else if(typeof e=="object")for(var r=Object.keys(e),i=0;i<r.length;++i){var n=r[i];this._status[n]=e[n]}t!=null&&(this._status.completed=t),!this._disabled&&this._requestRedraw()};C.prototype.pulse=function(e){this._status.subsection=e||"",this._status.spun++,!this._disabled&&(!this._showing||this._requestRedraw())};C.prototype._handleSizeChange=function(){this._gauge.setWidth(this._tty.columns-1),this._requestRedraw()};C.prototype._doRedraw=function(){if(!(this._disabled||this._paused)){if(!this._fixedFramerate){var e=Date.now();if(this._lastUpdateAt&&e-this._lastUpdateAt<this._updateInterval)return;this._lastUpdateAt=e}if(!this._showing&&this._onScreen){this._onScreen=!1;var t=this._gauge.hide();return this._hideCursor&&(t+=this._gauge.showCursor()),this._writeTo.write(t)}!this._showing&&!this._onScreen||(this._showing&&!this._onScreen&&(this._onScreen=!0,this._needsRedraw=!0,this._hideCursor&&this._writeTo.write(this._gauge.hideCursor())),this._needsRedraw&&(this._writeTo.write(this._gauge.show(this._status))||(this._paused=!0,this._writeTo.on("drain",qt(this,function(){this._paused=!1,this._doRedraw()})))))}}});var $u=f((Rh,Wu)=>{Wu.exports=function(e){[process.stdout,process.stderr].forEach(function(t){t._handle&&t.isTTY&&typeof t._handle.setBlocking=="function"&&t._handle.setBlocking(e)})}});var Yu=f((Hu,Vu)=>{"use strict";var zu=Ln(),Jl=Uu(),Xl=require("events").EventEmitter,h=Hu=Vu.exports=new Xl,Ur=require("util"),Ql=$u(),Wr=_t();Ql(!0);var K=process.stderr;Object.defineProperty(h,"stream",{set:function(e){K=e,this.gauge&&this.gauge.setWriteTo(K,K)},get:function(){return K}});var Pe;h.useColor=function(){return Pe??K.isTTY};h.enableColor=function(){Pe=!0,this.gauge.setTheme({hasColor:Pe,hasUnicode:Oe})};h.disableColor=function(){Pe=!1,this.gauge.setTheme({hasColor:Pe,hasUnicode:Oe})};h.level="info";h.gauge=new Jl(K,{enabled:!1,theme:{hasColor:h.useColor()},template:[{type:"progressbar",length:20},{type:"activityIndicator",kerning:1,length:1},{type:"section",default:""},":",{type:"logline",kerning:1,default:""}]});h.tracker=new zu.TrackerGroup;h.progressEnabled=h.gauge.isEnabled();var Oe;h.enableUnicode=function(){Oe=!0,this.gauge.setTheme({hasColor:this.useColor(),hasUnicode:Oe})};h.disableUnicode=function(){Oe=!1,this.gauge.setTheme({hasColor:this.useColor(),hasUnicode:Oe})};h.setGaugeThemeset=function(e){this.gauge.setThemeset(e)};h.setGaugeTemplate=function(e){this.gauge.setTemplate(e)};h.enableProgress=function(){this.progressEnabled||(this.progressEnabled=!0,this.tracker.on("change",this.showProgress),!this._paused&&this.gauge.enable())};h.disableProgress=function(){!this.progressEnabled||(this.progressEnabled=!1,this.tracker.removeListener("change",this.showProgress),this.gauge.disable())};var $r=["newGroup","newItem","newStream"],Gu=function(e){return Object.keys(h).forEach(function(t){if(t[0]!=="_"&&!$r.filter(function(i){return i===t}).length&&!e[t]&&typeof h[t]=="function"){var r=h[t];e[t]=function(){return r.apply(h,arguments)}}}),e instanceof zu.TrackerGroup&&$r.forEach(function(t){var r=e[t];e[t]=function(){return Gu(r.apply(e,arguments))}}),e};$r.forEach(function(e){h[e]=function(){return Gu(this.tracker[e].apply(this.tracker,arguments))}});h.clearProgress=function(e){if(!this.progressEnabled)return e&&process.nextTick(e);this.gauge.hide(e)};h.showProgress=function(e,t){if(!!this.progressEnabled){var r={};e&&(r.section=e);var i=h.record[h.record.length-1];if(i){r.subsection=i.prefix;var n=h.disp[i.level]||i.level,u=this._format(n,h.style[i.level]);i.prefix&&(u+=" "+this._format(i.prefix,this.prefixStyle)),u+=" "+i.message.split(/\r?\n/)[0],r.logline=u}r.completed=t||this.tracker.completed(),this.gauge.show(r)}}.bind(h);h.pause=function(){this._paused=!0,this.progressEnabled&&this.gauge.disable()};h.resume=function(){if(!!this._paused){this._paused=!1;var e=this._buffer;this._buffer=[],e.forEach(function(t){this.emitLog(t)},this),this.progressEnabled&&this.gauge.enable()}};h._buffer=[];var ef=0;h.record=[];h.maxRecordSize=1e4;h.log=function(e,t,r){var i=this.levels[e];if(i===void 0)return this.emit("error",new Error(Ur.format("Undefined log level: %j",e)));for(var n=new Array(arguments.length-2),u=null,s=2;s<arguments.length;s++){var o=n[s-2]=arguments[s];typeof o=="object"&&o instanceof Error&&o.stack&&Object.defineProperty(o,"stack",{value:u=o.stack+"",enumerable:!0,writable:!0})}u&&n.unshift(u+`
`),r=Ur.format.apply(Ur,n);var a={id:ef++,level:e,prefix:String(t||""),message:r,messageRaw:n};this.emit("log",a),this.emit("log."+e,a),a.prefix&&this.emit(a.prefix,a),this.record.push(a);var c=this.maxRecordSize,d=this.record.length-c;if(d>c/10){var g=Math.floor(c*.9);this.record=this.record.slice(-1*g)}this.emitLog(a)}.bind(h);h.emitLog=function(e){if(this._paused){this._buffer.push(e);return}this.progressEnabled&&this.gauge.pulse(e.prefix);var t=this.levels[e.level];if(t!==void 0&&!(t<this.levels[this.level])&&!(t>0&&!isFinite(t))){var r=h.disp[e.level]!=null?h.disp[e.level]:e.level;this.clearProgress(),e.message.split(/\r?\n/).forEach(function(i){var n=this.heading;n&&(this.write(n,this.headingStyle),this.write(" ")),this.write(r,h.style[e.level]);var u=e.prefix||"";u&&this.write(" "),this.write(u,this.prefixStyle),this.write(" "+i+`
`)},this),this.showProgress()}};h._format=function(e,t){if(!!K){var r="";if(this.useColor()){t=t||{};var i=[];t.fg&&i.push(t.fg),t.bg&&i.push("bg"+t.bg[0].toUpperCase()+t.bg.slice(1)),t.bold&&i.push("bold"),t.underline&&i.push("underline"),t.inverse&&i.push("inverse"),i.length&&(r+=Wr.color(i)),t.beep&&(r+=Wr.beep())}return r+=e,this.useColor()&&(r+=Wr.color("reset")),r}};h.write=function(e,t){!K||K.write(this._format(e,t))};h.addLevel=function(e,t,r,i){i==null&&(i=e),this.levels[e]=t,this.style[e]=r,this[e]||(this[e]=function(){var n=new Array(arguments.length+1);n[0]=e;for(var u=0;u<arguments.length;u++)n[u+1]=arguments[u];return this.log.apply(this,n)}.bind(this)),this.disp[e]=i};h.prefixStyle={fg:"magenta"};h.headingStyle={fg:"white",bg:"black"};h.style={};h.levels={};h.disp={};h.addLevel("silly",-1/0,{inverse:!0},"sill");h.addLevel("verbose",1e3,{fg:"cyan",bg:"black"},"verb");h.addLevel("info",2e3,{fg:"green"});h.addLevel("timing",2500,{fg:"green",bg:"black"});h.addLevel("http",3e3,{fg:"green",bg:"black"});h.addLevel("notice",3500,{fg:"cyan",bg:"black"});h.addLevel("warn",4e3,{fg:"black",bg:"yellow"},"WARN");h.addLevel("error",5e3,{fg:"red",bg:"black"},"ERR!");h.addLevel("silent",1/0);h.on("error",function(){})});var cf={};_s(cf,{patch:()=>hf});module.exports=xs(cf);var ms=require("path"),vs=require("fs");var rs=require("os"),ve=require("path"),is=require("url"),se=require("fs"),T=require("fs/promises");var Ne="// build-hook-line ",S="/* build-hook-start */",A="/*00001*/",_="/* build-hook-end */";var ri=require("fs"),V=require("path"),it=require("os"),ti=(0,it.platform)(),ii="CONSOLE_NINJA_LOG_LEVEL";var W=(0,V.join)((0,it.homedir)(),".console-ninja"),pf=(0,V.join)(W,".cache"),gf=(0,V.join)(W,"stateFile.json"),mf=(0,V.join)(W,"usageFile.json"),vf=(0,V.join)(W,"hintsFile.json"),Ef=(0,V.join)(W,".tid"),yf=(0,V.join)(W,"notifications.json"),bf=(0,V.join)(W,".sm");var qe="out/buildHook/index.js";var wf=Ts();function Ts(){return ti==="win32"||ti==="win64"?!1:!(0,ri.existsSync)(Ss(__filename))}function Ss(e){return e.replace(/\w/g,t=>{let r=t.toUpperCase();return t===r?t.toLowerCase():r})}var zr=ei(require("path")),Ku=ei(li());var tf=vi(),H=Yu(),Zu="",Ju=()=>{},Xu=!1;try{let e=!!process?.versions?.bun,t=e?tf({file:zr.join(W,"trace.log"),size:"3M",keep:1}):(0,Ku.createStream)(zr.join(W,"trace.log"),{size:"3M",rotate:1});e&&(H.write=function(r,i){!t||t._write(this._format(r,i),"UTF-8",()=>{})}),H.stream=t,H.level=process.env[ii]||"info",H.level==="verbose"&&(Ju=Hr,Xu=!0),H.emitLog=function(r){if(this._paused){this._buffer.push(r);return}this.progressEnabled&&this.gauge.pulse(r.prefix);var i=this.levels[r.level];if(i!==void 0&&!(i<this.levels[this.level])&&!(i>0&&!isFinite(i))){var n=H.disp[r.level]!==null?H.disp[r.level]:r.level;this.clearProgress(),r.message.split(/\r?\n/).forEach(function(u){let s=new Date,o=`${String(s.getHours()).padStart(2,"0")}:${String(s.getMinutes()).padStart(2,"0")}:${String(s.getSeconds()).padStart(2,"0")}.${String(s.getMilliseconds()).padStart(3,"0")} `;var a=H.heading;a&&(o+=a,o+=" "),o+=n;var c=r.prefix||"";c&&(o+=" "),o+=c,o+=" "+u+`
`,H.write(o)},this),this.showProgress()}}}catch(e){console.error("failed to initialize npmlog",e?.message)}function Qu({prefix:e}){Zu=e}function tt(e,...t){return Hr("info",e,...t)}function ue(e,...t){return Hr("warn",e,...t)}function w(e,...t){return Ju("verbose",e,...t)}function Gr(){return Xu}function Hr(e,t,...r){try{return H.log(e,Zu,t,...r)}catch{}}var Vr=`node_modules${ve.sep}`,es=(0,rs.platform)()==="win32",Ee=class{constructor(t,r){this.id=t,this._files=new Map;for(let i of r)typeof i=="string"?this._files.set((0,ve.join)(Vr,i),{path:i}):this._files.set((0,ve.join)(Vr,i.path),i)}pick(t,r){return{path:t}}get files(){let t=new Map;for(let[r,i]of this._files)t.set(r,{path:i.path});return t}},y=class extends Ee{async build(t,r,i){if(r.type!=="ClassicNodeModule")return;let n=[];for(let u of i){let s=this._files.get(u.substring(u.lastIndexOf(Vr)));s&&n.push(this.pick(u,s))}if(!!n.length)return w("building %s patcher %s",this.id,n.map(u=>u.path)),new ye(this.id,t,n)}async resolve(t){return t.type!=="ClassicNodeModule"?[]:Array.from(this._files.values()).map(r=>r.path)}},ye=class{constructor(t,r,i){this.id=t,this.pwd=r,this._files=i}async patch(){let t=[],r=new L(this.id,this.pwd),i=new Map;for(let s of this._files)try{let o=es?(0,se.realpathSync)(s.path):await(0,T.realpath)(s.path);i.has(o)||i.set(o,s)}catch(o){ue("real path does not exist(patching) %s",o)}for(let s of i.values()){let o=s.patcher?s.patcher(this.id,this.pwd):r;tt("patching %s",s.path),t.push(ts(s.path,o.apply.bind(o)))}let u=(await Promise.allSettled(t)).filter(s=>s.status==="rejected").map(s=>s.reason);if(u.length)throw new Error(`${this.id}: `+u.join(";"))}async unpatch(){let t=[],r=new L(this.id,this.pwd),i=new Map;for(let s of this._files)try{let o=es?(0,se.realpathSync)(s.path):await(0,T.realpath)(s.path);i.has(o)||i.set(o,s)}catch(o){ue("real path does not exist(unpatching) %s",o)}for(let s of i.values()){let o=s.patcher?s.patcher(this.id,this.pwd):r;tt("unpatching %s",s.path),t.push(ts(s.path,o.undo.bind(o)))}let u=(await Promise.allSettled(t)).filter(s=>s.status==="rejected").map(s=>s.reason);if(u.length)throw new Error(`${this.id}: `+u.join(";"))}},L=class{constructor(t,r){let i=Gr()?"try{console.log('Console Ninja [Debug Mode]:',cjsError);}catch(e){};":"",n=Gr()?"try{console.log('Console Ninja [Debug Mode]:',esmError);}catch(e){}":"";this._openingBlockPatchComment=`
`+S,this._closingBlockPatchComment=_,this._payload=`${this._openingBlockPatchComment}${A}try { require('${(0,ve.join)(r,qe).replace(/\\/g,"\\\\")}').default({tool: '${t}'}); } catch(cjsError) {${i} try { import('${(0,is.pathToFileURL)((0,ve.join)(r,qe))}').then(m => m.default.default({tool: '${t}'})).catch(esmError => {${n}}) } catch(esmError) {${n}}}${this._closingBlockPatchComment}
`}_apply(t){return t}replace(t){if(!(t[0]==="#"||t[0]==='"'||t[0]==="'"))return{content:this._apply(this._payload+t),applicable:!0};let i=t.indexOf(`
`);return i===-1?{content:this._apply(t+this._payload),applicable:!0}:{applicable:!0,content:this._apply(t.substring(0,i)+this._payload+t.substring(i))}}apply(t,r=!1){let i=t.indexOf(this._openingBlockPatchComment),n=t.indexOf(this._closingBlockPatchComment);if(i!==-1&&n!==-1){if(t.substring(i,n+this._closingBlockPatchComment.length+1)===this._payload)return{applicable:!1};if(r)return{applicable:!0};{let u=this.undo(t);return this.replace(u.applicable?u.content:t)}}else return r?{applicable:!0}:this.replace(t)}undo(t,r=!1){let i=t.indexOf(this._openingBlockPatchComment);if(i===-1)return{applicable:!1};let n=t.indexOf(this._closingBlockPatchComment);if(n===-1)return{applicable:!1};if(r)return{applicable:!0};for(;;){if(i=i===void 0?t.indexOf(this._openingBlockPatchComment):i,n=n===void 0?t.indexOf(this._closingBlockPatchComment):n,i===-1||n===-1)return{applicable:!0,content:t};t=t.substring(0,i)+t.substring(n+this._closingBlockPatchComment.length+1),i=void 0,n=void 0}}},jt=class{constructor(t){this._originalLine=t}apply(t,r=!1){if(t.indexOf(Ne+this._originalLine)!==-1)return{applicable:!1};if(r)return{applicable:!0};{let n=t.search(this._originalLine);if(n===-1)throw new Error(`Expected line '${this._originalLine}' is not found.`);return{applicable:!0,content:t.substring(0,n)+Ne+t.substring(n)}}}undo(t,r=!1){return t.indexOf(Ne)===-1?{applicable:!1}:r?{applicable:!0}:{applicable:!0,content:t.replace(Ne,"")}}},U=class{constructor(t,r){this.searchTerms=t;this.payload=r}apply(t,r=!1){let i=s=>{for(let o of this.searchTerms){let a=s.indexOf(o);if(a>-1)return{applicable:!0,content:s.substring(0,a+o.length)+this.payload+s.substring(a+o.length)}}throw this.searchTerms.length?new Error("No search term found"):new Error("No search terms specified")},n=t.indexOf(S),u=t.indexOf(_);if(n!==-1&&u!==-1){if(t.substring(n,u+_.length)===this.payload)return{applicable:!1};if(r)return{applicable:!0};{let s=this.undo(t);return i(s.applicable?s.content:t)}}else return r?{applicable:!0}:i(t)}undo(t,r=!1){let i=t.indexOf(S);if(i===-1)return{applicable:!1};let n=t.indexOf(_);if(n===-1)return{applicable:!1};if(r)return{applicable:!0};for(;;){if(i=i===void 0?t.indexOf(S):i,n=n===void 0?t.indexOf(_):n,i===-1||n===-1)return{applicable:!0,content:t};t=t.substring(0,i)+t.substring(n+_.length),i=void 0,n=void 0}}},rf=3,It=50,nf=5e3;async function ts(e,t){if((0,se.existsSync)(e)){try{await(0,T.access)(e,se.constants.W_OK)}catch{ue("could not get write access to %s file",e),Date.now()-(await(0,T.stat)(e)).ctimeMs>=nf&&await(0,T.chmod)(e,"0777")}let r=await(0,T.stat)(e);if(w("reading %s",e),t(await(0,T.readFile)(e,"utf-8"),!0).applicable){for(let i=0;i<rf;i++){w("checking %s",e);let n=await(0,T.stat)(e);if(Date.now()-Math.max(i===0?r.atimeMs:n.atimeMs,n.mtimeMs,n.ctimeMs)>=It)try{try{await(0,T.access)(e,se.constants.W_OK)}catch{ue("could not get write access to %s file(modification)",e),await new Promise(o=>setTimeout(o,It+10));continue}w("opening %s",e);let u=await(0,T.open)(e,"r+");try{await u.chmod("0444"),await new Promise(o=>setTimeout(o,It)),w("rechecking %s",e);let s=await(0,T.stat)(e);if(n.mtimeMs!==s.mtimeMs)w("postponing %s",e);else{w("reading %s(modification)",e);let o=await u.readFile("utf-8"),a=Buffer.byteLength(o,"utf-8"),c=t(o);if(c.applicable){w("writing %s",e);let d=!1;try{await u.truncate()}catch{d=!0}let g=c.content;if(d){let l=Buffer.byteLength(g,"utf-8");l<a&&(g+=" ".repeat(a-l))}await u.write(g,0,"utf-8")}w("closing %s",e);return}}finally{await u.chmod("0777"),await u.close(),w("closed %s",e)}}catch(u){try{await(0,T.chmod)(e,"0777")}catch{ue("could not reset permissions for %s",e)}throw u}else w("waiting for %s",e),await new Promise(u=>setTimeout(u,It+10))}ue("could not modify %s file",e)}else w("file %s does not need to be changed",e)}else ue("file %s does not exist",e)}var us=require("os"),ss=require("path"),os=require("fs");var uf="/* custom-patch-cn1-start */",sf="/* custom-patch-cn1-end */",ns=(0,us.platform)()==="win32",Ut=class extends y{constructor(){super("next.js",[{path:"next/dist/compiled/webpack/bundle5.js"},{path:"next/dist/build/webpack/loaders/next-swc-loader.js"}])}pick(t,r){return r.path==="next/dist/build/webpack/loaders/next-swc-loader.js"?{path:t,patcher:()=>new jt(/(exports.pitch = pitch;)|(return pitch;)/g)}:r.path==="next/dist/compiled/webpack/bundle5.js"?{path:t,patcher:(i,n)=>new Yr(i,n)}:super.pick(t,r)}},Yr=class{constructor(t,r){this._buildHookPatcher=new L(t,r),this._customPatcher=new Kr(t,r)}apply(t,r){let i=this._buildHookPatcher.apply(t,r);if(ns){let n=this._customPatcher.apply(i.content||t,r);return{applicable:n.applicable||i.applicable,content:n.content||i.content}}else return i}undo(t,r){let i=this._buildHookPatcher.undo(t,r);if(ns){let n=this._customPatcher.undo(i.content||t,r);return{applicable:n.applicable||i.applicable,content:n.content||i.content}}else return i}},Kr=class extends L{constructor(t,r){super(t,r);let i=(0,ss.join)(r,qe);try{i=(0,os.realpathSync)(i)}catch{}i=i.replace(/\\/g,"\\\\"),this._openingBlockPatchComment=uf,this._closingBlockPatchComment=sf,this._payload=`${this._openingBlockPatchComment}${A}(!rt || rt.toLowerCase()!='${i}'.toLowerCase())&&${this._closingBlockPatchComment} `}replace(t){let r="this.logger.warn(`Resolving '${",i=t.indexOf(r);return i===-1?{applicable:!1,content:t}:{applicable:!0,content:this._apply(t.substring(0,i)+this._payload+t.substring(i))}}};var as=`${S}${A}plugins.push({name: 'console ninja server', setup(build) {
    let fse = require('fs-extra');
    let path = require('path');
    build.onLoad({filter: /.*/, namespace: 'file'}, async (args) => {
      try {
        let file = args.path;
        let ext = path.extname(file);
        if(ext === '.js' || ext === '.jsx' || ext === '.ts' || ext === '.tsx') {
          let contents = await fse.readFile(file, 'utf-8');
          return {contents, loader: loaders.loaders[ext]};
        }
      } catch (error) {
        console.log(error);
      }
    });
  }});${_}`,ls=`${S}${A}plugins.push({name: 'console ninja browser', setup(build) {
    let fse = require('fs-extra');
    let path = require('path');
    build.onLoad({filter: /.*/, namespace: 'file'}, async (args) => {
      try {
        let file = args.path;
        let ext = path.extname(file);
        if(ext === '.js' || ext === '.jsx' || ext === '.ts' || ext === '.tsx') {
          let contents = await fse.readFile(file, 'utf-8');
          return {contents, loader: loaders.loaders[ext]};
        }
      } catch (error) {
        console.log(error);
      }
    });
  }});${_}`,Wt=class extends y{constructor(){super("remix",[{path:"@remix-run/dev/dist/cli.js"},{path:"@remix-run/dev/dist/compiler/compilerServer.js"},{path:"@remix-run/dev/dist/compiler/compileBrowser.js"},{path:"@remix-run/dev/dist/compiler/server/compiler.js"},{path:"@remix-run/dev/dist/compiler/js/compiler.js"}])}pick(t,r){if(r.path==="@remix-run/dev/dist/compiler/compilerServer.js"){let i=["serverBareModulesPlugin.serverBareModulesPlugin(config, options.onWarning)].filter(isNotNull);","serverBareModulesPlugin.serverBareModulesPlugin(config, options.onWarning)];"],n=new U(i,as);return{path:t,patcher:()=>n}}else if(r.path==="@remix-run/dev/dist/compiler/server/compiler.js"){let i=[`.polyfillNode());
  }`,`.nodeModulesPolyfillPlugin());
  }`,`modules: ctx.config.serverNodeBuiltinsPolyfill.modules
    }));
  }`,`serverNodeBuiltinsPolyfill.serverNodeBuiltinsPolyfillPlugin(ctx));
  }`],n=new U(i,as);return{path:t,patcher:()=>n}}else if(r.path==="@remix-run/dev/dist/compiler/compileBrowser.js"){let i=["nodeModulesPolyfill.NodeModulesPolyfillPlugin()].filter(isNotNull);","nodeModulesPolyfill.NodeModulesPolyfillPlugin()];"],n=new U(i,ls);return{path:t,patcher:()=>n}}else if(r.path==="@remix-run/dev/dist/compiler/js/compiler.js"){let i=[`.cssBundleUpdatePlugin(channels));
  }`,`.hmrPlugin(ctx));
  }`],n=new U(i,ls);return{path:t,patcher:()=>n}}else return super.pick(t,r)}};var fs=require("path"),hs=require("fs"),cs=require("fs/promises");var $t=class extends Ee{constructor(){super("live-server-extension",[])}async build(t,r,i){if(r.type!=="CustomFilePath"||!i.length)return;let n=i.map(u=>this.pick(u,{path:u}));return w("building live-server-extension patcher %s",n.map(u=>u.path)),new ye(this.id,t,n)}async resolve(t){return t.type!=="CustomFilePath"?[]:(await(0,cs.readdir)(t.value,{withFileTypes:!0})).filter(r=>r.isDirectory()&&r.name.startsWith("ritwickdey.liveserver-")).map(r=>(0,fs.join)(t.value,r.name,"node_modules/live-server/index.js")).filter(r=>(0,hs.existsSync)(r))}};var Ds=require("path"),ds=require("fs"),ps=require("fs/promises");var zt=class extends Ee{constructor(){super("live-preview-extension",[])}pick(t,r){return{path:t,patcher:(i,n)=>new Zr(i,n)}}async build(t,r,i){if(r.type!=="CustomFilePath"||!i.length)return;let n=i.map(u=>this.pick(u,{path:u}));return w("building live-preview-extension patcher %s",n.map(u=>u.path)),new ye(this.id,t,n)}async resolve(t){return t.type!=="CustomFilePath"?[]:(await(0,ps.readdir)(t.value,{withFileTypes:!0})).filter(r=>r.isDirectory()&&r.name.startsWith("ms-vscode.live-server-")).map(r=>(0,Ds.join)(t.value,r.name,"out/extension.js")).filter(r=>(0,ds.existsSync)(r))}},Zr=class extends L{_apply(t){return t=t.replace("this._serveStream(this._basePath,e,t)",`
${S}${A}setTimeout(()=>${_}
this._serveStream(this._basePath,e,t)
${S}${A},250)${_}
`),t=t.replaceAll(".workspace.textDocuments",`.workspace.textDocuments
${S}${A}&&[]${_}
`),t}};var of=`${S}${A}process.env.consoleNinjaQwik = 1;${_}`,Gt=class extends y{constructor(){super("qwik",[{path:"@builder.io/qwik/optimizer.mjs"},{path:"@builder.io/qwik/optimizer.cjs"}])}pick(t,r){let i=new U(["function qwikVite(qwikViteOpts = {}) {"],of);return{path:t,patcher:()=>i}}};var af=`${S}${A}
    const fs = require('fs').promises;
    const path = require('path');
    build.onLoad({filter: /.*/, namespace: 'file'}, async (args) => {
      try {
        let file = args.path;
        let ext = path.extname(file);
        if(ext === '.js' || ext === '.jsx' || ext === '.ts' || ext === '.tsx') {
          let contents = await fs.readFile(file, 'utf-8');
          return {contents, loader: ext.slice(1)};
        }
      } catch (error) {
        console.log(error);
      }
    });
${_}`,Ht=class extends y{constructor(){super("cypress",[{path:"cypress/lib/cypress.js"},{path:"@bahmutov/cypress-esbuild-preprocessor/src/index.js"}])}pick(t,r){if(r.path==="@bahmutov/cypress-esbuild-preprocessor/src/index.js"){let i=["setup(build) {"],n=new U(i,af);return{path:t,patcher:()=>n}}else return super.pick(t,r)}};var Jr=class extends L{replace(t){let r="async handle(commandInputs, commandOptions) {",i=t.indexOf(r);return i===-1?{applicable:!1}:{applicable:!0,content:this._apply(t.substring(0,i+r.length)+this._payload+t.substring(i+r.length))}}},Vt=class extends y{constructor(){super("nest.js",[{path:"@nestjs/cli/actions/start.action.js"}]);this._pwd=""}async build(r,i,n){return this._pwd=r,super.build(r,i,n)}pick(r,i){return i.path==="@nestjs/cli/actions/start.action.js"?{path:r,patcher:()=>new Jr(this.id,this._pwd)}:super.pick(r,i)}};var lf=[new y("webpack",["webpack/lib/index.js","webpack/lib/webpack.js"]),new y("vite",["vite/bin/vite.js","@quasar/app-vite/lib/cmd/dev.js"]),new y("angular",["@angular/cli/bin/ng.js","@angular-devkit/build-angular/src/tools/esbuild/javascript-transformer-worker.js","@angular-devkit/build-angular/src/tools/esbuild/angular/compilation/parallel-worker.js"]),new y("jest",["jest-runner/build/testWorker.js","jest/bin/jest.js"]),new y("http-server",["http-server/bin/http-server"]),new y("serve",["serve/build/main.js"]),new y("live-server",["live-server/index.js"]),new y("hydrogen",["@shopify/cli-hydrogen/dist/cli/commands/hydrogen/dev.js"]),new y("nuxt",["nuxi/dist/chunks/dev.mjs","nuxi/dist/chunks/dev2.mjs"]),new y("astro",["astro/astro.js"]),new y("serverless",["serverless-offline/src/lambda/handler-runner/worker-thread-runner/workerThreadHelper.js","serverless-offline/src/index.js"]),new Ut,new Wt,new $t,new zt,new Gt,new Ht,new Vt],gs=new Map(lf.map(e=>[e.id,e]));Qu({prefix:"yarn interceptor"});var Es=new Map;for(let e of gs.values())for(let[t]of e.files){let r=t.replace(/\//g,ms.sep);Es.set(r,{tool:e,file:t})}var Xr;function ff(e){return Xr===void 0&&(Xr=(0,vs.existsSync)(e)),Xr}function hf(e,t){let r="<REPLACE>";if(ff(r))for(let[i,n]of Es){let u=n.tool.id;if(w("checking %s against %s",e,u),e.endsWith(i)){w("accepted %s for %s",e,u);let s=n.tool.files.get(n.file);if(w("getting %s for %s",e,u),s){let o=n.tool.pick(e,s),a=o.patcher?o.patcher(u,r):new L(u,r);w("patching %s",e);let c=a.apply(t,!1);if(c.applicable)return tt("patched %s",e),c.content||t}}}return t}0&&(module.exports={patch});
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
